<!DOCTYPE html>
<html lang="ja">
   <head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width">
   <meta name="format-detection" content="telephone=no, address=no, email=no">
      <script data-ad-client="ca-pub-8523229124275958" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

   <base href="https://blog.coelacanth-dream.com/posts/2020/03/03/intel-unknown-soma/">

   <meta property="og:site_name" content="Coelacanth&#39;s Dream">
   <meta name="twitter:card" content="summary">
   <meta property="og:type" content="article">
   <title>謎のIntel SoMaチップ推測 | Coelacanth&#39;s Dream</title>
   <meta property="og:title" content="謎のIntel SoMaチップ推測 | Coelacanth&#39;s Dream">
   <meta name="twitter:title" content="謎のIntel SoMaチップ推測 | Coelacanth&#39;s Dream">

   <link rel="canonical" href="https://blog.coelacanth-dream.com/posts/2020/03/03/intel-unknown-soma/">
   <meta name="description" content="少し前にeBayに現れ、話題になった謎のMCM (Multi Chip Module)構成のプロセッサ、SoMaだが、Fritzchens Fritz氏">
   <meta property="og:description" content="少し前にeBayに現れ、話題になった謎のMCM (Multi Chip Module)構成のプロセッサ、SoMaだが、Fritzchens Fritz氏">
   <meta name="twitter:description" content="少し前にeBayに現れ、話題になった謎のMCM (Multi Chip Module)構成のプロセッサ、SoMaだが、Fritzchens Fritz氏">
   <meta property="og:image" content="https://blog.coelacanth-dream.com/image/coelacanth_dream.png">
   <meta name="twitter:image" content="https://blog.coelacanth-dream.com/image/coelacanth_dream.png">
   <meta name="url" content="https://blog.coelacanth-dream.com/posts/2020/03/03/intel-unknown-soma/">
   <meta property="og:url" content="https://blog.coelacanth-dream.com/posts/2020/03/03/intel-unknown-soma/">
   <meta property="og:locale" content="ja_JP">
   <meta name="author" content="Umio Yasuno">
   <meta name="keywords" content="Unknown, SoMa">

      <link rel="preload" href="https://blog.coelacanth-dream.com/css/side.min.css" as="style">
      <link rel="preload" href="https://blog.coelacanth-dream.com/css/footer.min.css" as="style">
            <link rel="prefetch" href="https://blog.coelacanth-dream.com/css/ds.min.css" as="style">
            <link rel="preload" href="https://blog.coelacanth-dream.com/css/page.min.css" as="style">
   <style>
html {
   background-size: cover;
   background-attachment: fixed;
   background-image: radial-gradient(farthest-corner, #2A4747 86%, #172727 96%, #040707 99%);
   background-repeat: no-repeat;
   font-size: .98em;
}
main {
   display: grid;
   grid-template-rows: repeat(5, auto) 3rem;
   grid-template-columns: 1vw 2vw auto 4vw;
   row-gap: 20px;
}
header {
   grid-row: 2 / 3;
   grid-column: 3 / -2;
   word-spacing: 100vw;
}
.site_title {
   font: normal 1.9rem/2.3rem monospace;
   text-decoration: none;
   margin-left: auto;
   text-align: end;
}
.site_title a {
   color: #819BA1;
   text-shadow: -4px 2px 1.8rem #748B90;
   word-break: keep-all;
   padding: 0;
}
.site_title a:hover {
   color: #90B4BD;
   text-shadow: -4px 2px 1.8rem #81A2AA;
   text-decoration: none;
}
a {
   color: #75D1FF;
   text-decoration: none;
   padding: 0 .3rem 0 .3rem;
   margin: 0;
   word-break: break-all;
}
.text {
   color: snow;
   box-sizing: border-box;
   overflow-wrap: break-word;
   font-size: .98rem;
   line-height: 1.7rem;
   overflow-x: scroll;
   scrollbar-width: thin;
   scrollbar-color: rgba(0,128,128, .5) rgba(0,0,0,0);
   grid-row: 3 / 5;
   grid-column: 1 / -1;
   opacity: 0;
}
article > p {
   letter-spacing: .015rem;
   margin: 0;
}
article > p::before {
   padding-right: .55rem;
   content: ' ';
}
footer, .side, .home, .posts, .tags, .categories {
   display: none;
}
footer {
   grid-row: 5 / -2;
   grid-column: 1 / -1;
}
article {
   display: grid;
   grid-template-rows: auto;
   grid-template-columns: .5% 1% auto 1%;
   row-gap: 16px;
}
article > p ~ * {
   display: none;

}
article > * {
   grid-column: 3 / -1;
   padding-bottom: 100vh;
}
h1 {
   color: #FFA319;
   font: normal 1.25rem/1.8rem sans-serif;
   grid-column: 2 / -1;
   margin: 1rem 0 .5rem 0;
}
.breakcrumb {
   grid-column: 3 / -2;
   display: flex;
   flex-flow: row wrap;
   column-gap: .2em;
   font: italic .95rem/1.5rem monospace;
   color: #D5FDD5;
   background-color: rgba(63, 89, 89, 1);
   max-width: max-content;
   padding: 2px .8rem 2px .2rem;
   word-break: keep-all;
}
@media (min-width: 840px) {
   main {
      display: grid;
      grid-template-rows: 8px 8px repeat(3, auto) 6vh;
      grid-template-columns: 224px 12px 12px auto;
      row-gap: 36px;
   }
   .text {
      grid-row: 1 / -2;
      grid-column: 3 / -1;
      padding-top: 12px;
   }
   header > .site_title {
      display: none;
   }
   .site_title {
      font-size: 1.8rem;
      line-height: 2.4rem;
      max-width: 100%;
   }
   .page_title {
      grid-row: 2 / 3;
      grid-column: 3 / -1;
      padding-left: 4px;
   }
   .side {
      display: unset;
      height: 92vh;
      width: 208px;
      position: fixed;
         top: 2vh;
      padding: 28px 12px 0 8px;
      color: #20B2AA;
      border-right: 1px solid #468E76;
      font-size: 1rem;

      overflow: scroll;
      scrollbar-width: thin;
      scrollbar-color: rgba(0,128,128, .2) rgba(0,0,0,0);
   }
   .side_block {
      display: none;
      opacity: 0;
   }
}
</style>
<link rel="icon" href="https://blog.coelacanth-dream.com/favicon.ico">
      <link rel="apple-touch-icon" sizes="180x180" href="https://blog.coelacanth-dream.com/image/coelacanth_dream-180x180.png">
   </head>
   <body>
      <main>
         <header><div class="site_title">
   <a href="https://blog.coelacanth-dream.com/">Coelacanth's Dream</a><br>
</div>
</header>
         <link rel="stylesheet" href="https://blog.coelacanth-dream.com/css/page.min.css">
<article class="text"><div class="breakcrumb">
  
   
      
   
      
   
      
   
      
   <a href="https://blog.coelacanth-dream.com/">Coelacanth&#39;s Dream</a> >

   <a href="https://blog.coelacanth-dream.com/posts/">Archive</a> >

   <a href="https://blog.coelacanth-dream.com/posts/2020/">2020</a> >

   <a href="https://blog.coelacanth-dream.com/posts/2020/03/">2020/03</a> >

   

</div>



   <h1>謎のIntel SoMaチップ推測</h1>

<p>少し前にeBayに現れ、話題になった謎のMCM (Multi Chip Module)構成のプロセッサ、SoMaだが、<a href="https://www.flickr.com/photos/130561288@N04/" target="_blank">Fritzchens Fritz</a>氏によって配線層、ダイショットの画像が公開された。<br />
それを基にSoMaの正体を推測してみる。<br />
先に結論を言うと、確かな答えは全く得ることができず、個人の推測に留まる。</p>

<h2 id="推測">推測</h2>

<h3 id="前提情報">前提情報</h3>

<blockquote>
<ul>
<li>IHS (Intergrated Heat Spreader) は Haswell/Skylake と同一</li>
<li>LGA115xらしきパッケージ</li>
<li>PCBの厚さは Haswell と Skylake の間</li>
<li>パッケージ裏面にチップコンデンサは無し</li>
<li>IHSの向きが間違っている (?)</li>
<li>IHSにあるバッチナンバーは2014年後半に生産されたことを示す</li>
<li>エンジニアサンプリングではなく、箱にはS-SpeC SR26Uの記載があった (このナンバーに関して情報は無し)</li>
<li>かなり奇妙なIPN (Intel Part Number) が割り当てられている</li>
<li>パッケージには4ダイが実装されている</li>
</ul>

<p>情報元: <cite><a href="https://www.reddit.com/r/intel/comments/e082ng/information_request_on_intel_soma/" target="_blank">Information request on Intel “SoMa” : intel</a></cite></p>
</blockquote>

<h3 id="ダイレイアウト">ダイレイアウト</h3>

<figure>
   <a href="https://blog.coelacanth-dream.com/image/2020/03/03/intel-soma-1die_1.webp" target="_blank">
   <img src="https://blog.coelacanth-dream.com/image/2020/03/03/intel-soma-1die_1.webp"
         alt="56.60mm2
画像元: Intel@unknown_soma_cpu@SoMa_L450C234_Malay___DSCx8_poly@5x… | Flickr"/> </a><figcaption>
         <h4>Intel SoMa 1-Die</h4><p>56.60mm<sup>2</sup><br>画像元: <cite><a href="https://www.flickr.com/photos/130561288@N04/49603570216/in/photostream/" target="_blank">Intel@unknown_soma_cpu@SoMa_L450C234_Malay___DSCx8_poly@5x… | Flickr</a></p>
   </figcaption>
</figure>


<p>ダイ内は4つのクラスタに別れ、そして2つのクラスタを縦にまとめ、片方を180度回転させて配置している。<br />
クラスタ間の境界がはっきりしており、ダイショットに配線が見られないが、クラスタ同士はシリコンインターポーザ内で接続しているのだろうか？<br />
ダイ間はパッケージ内のサブストレートで接続されているのかもしれない。</p>

<h4 id="全体">全体</h4>

<p>まずメモリコントローラー、PHYがない。<br />
またそれぞれのユニットが離れている（=大して最適化が為されていない）ことは、テストチップであることを裏付けている。<br />
何らかの外部コントローラー、FPGA等を接続してデータをロードする仕組みだろうか。</p>

<p>そしてMCMではあるが、ダイ間接続用の広いI/Oも特別見当たらない。<br />
そのため、MCMとしたのは性能よりも研究を目的としたと思われる。</p>

<h4 id="各ユニット">各ユニット</h4>

<p>ここでは1つのクラスタから推測することとする。<br />
<figure>
   <a href="https://blog.coelacanth-dream.com/image/2020/03/03/intel-soma-1die.webp" target="_blank">
   <img src="https://blog.coelacanth-dream.com/image/2020/03/03/intel-soma-1die.webp"
         alt="画像元: Intel@unknown_soma_cpu@SoMa_L450C234_Malay___DSCx8_poly@5x… | Flickr"/> </a><figcaption>
         <h4>Intel SoMa 1-Cluster</h4><p>画像元: <cite><a href="https://www.flickr.com/photos/130561288@N04/49603570216/in/photostream/" target="_blank">Intel@unknown_soma_cpu@SoMa_L450C234_Malay___DSCx8_poly@5x… | Flickr</a></p>
   </figcaption>
</figure>
</p>

<p>まず目に付くのは、クラスタの大部分を占める計64基のユニットだが、境界が曖昧で入り組んでいることから、設計ソフトの自動配置配線を用いていると思われる。<br />
また特別ユニットが大きくなく、大量に並べられていることから、x86 IAコアよりも、もっと構成がある程度単純な演算ユニットだろう。<br />
ひとまず、仮に演算ユニットとする。</p>

<p>左上にあるユニットも自動配置配線と思われるが、演算ユニットよりももう少し複雑な構造をしている。<br />
演算ユニットのスケジューリング等を担当しているのだろうか？</p>

<p>左中央にある計26基のユニットは、I/OのPHY (物理層、PHYsical layer)、そして間にある6基のユニットはそれらのPLL (Phase-Locked Loop)であるように見える。<br />
ダイの外側となるように配置されていることもI/Oだと考える要因の1つだ。<br />
しかし、クラスタとダイの接続、どちらかに使われているかは不明。分割して使って居る可能性もある。<br />
ダイの左右にあるため、横隣のダイとは近い距離で接続できるかもしれないが、縦隣とは遠くなり、<br />
4ダイであることを前提としていたならば、各クラスタのI/Oがそれぞれ外側へ別方向になるように配置するように思う。<br />
その方が4ダイよりも多い構成に対応可能のスケーラブルな構成になるはずだ。<br />
このクラスタ配置は不自然、というか意図が読みにくい。</p>

<p>左下のユニットは内部のブロックの境界がはっきりとしており、かなり小規模なx86 IAコアか、上記I/Oのエージェントの可能性がある。恐らく後者だろう。<br />
もしx86 IAコアだとしたらL2キャッシュも削られた、極めて小規模なものとなる。それにメモリコントローラーも無いとなるとx86 IAコアを無理に搭載する理由も無いように思える。</p>

<h3 id="個人的な結論">個人的な結論</h3>

<h4 id="研究用説">研究用説</h4>

<p>シリコンインターポーザでのクラスタ間接続と、パッケージ内のダイ間接続を比較、研究するためのチップ、という <em>説</em> 。<br />
またはメッシュバスのネットワーク検証用か。</p>

<h4 id="co-processor-説">Co-processor 説</h4>

<p>x86 IAコアらしきものも見当たらないことから、ホストとなるCPUを必要とする、 <em>Co-processor</em> のようにも思える。<br />
それならば計64基もの演算ユニットがあるのも自然だろう。</p>

<p>そしてメモリを直接接続できないことを考えると、ホストCPU側のメモリにアクセスできるようなI/Oである必要があるはずだ。<br />
Intelソケットに対応したパッケージに収めていることと合わせると、使うならばQPI<sup class="footnote-ref" id="fnref:1"><a href="#fn:1">1</a></sup>の可能性がある。<br />
左中央の計26基のユニットはQPI PHY、その間にある6基のユニットはQPI PLL、左下のユニットはQPI Agentとなる。</p>

<p>XeonにQPIでCo-processor（多くはFPGA）を接続する構想はあり、Altera<sup class="footnote-ref" id="fnref:2"><a href="#fn:2">2</a></sup>よりIntel CPUソケットに対応したディスクリートFPGAが提供されていた。<br />
<cite><a href="https://newsroom.intel.com/news-releases/altera-demonstrates-industrys-first-qpi-1-1-fpga-home-agent-for-enhanced-server-capabilities/" target="_blank">Altera Demonstrates Industry’s First QPI 1.1 FPGA Home Agent for Enhanced Server Capabilities | Intel Newsroom</a></cite><br />
<cite><a href="https://pc.watch.impress.co.jp/docs/column/kaigai/1008797.html" target="_blank">【後藤弘茂のWeekly海外ニュース】Intelのサーバー戦略の要となるXeon PhiとFPGA &ndash; PC Watch</a></cite></p>

<p>SoMaはそういったもののテストチップとして、もしくはUPI<sup class="footnote-ref" id="fnref:3"><a href="#fn:3">3</a></sup>の開発のために作られた、という <em>説</em> 。<br />
それかFPGA以外にQPI接続のCo-Processorを出す計画があったか。</p>

<p>ただこの説には問題があり、<br />
まずソケット間のQPI接続に対応したLGA115xソケットCPUはない（はず）。<br />
少なくとも自分には見つけられなかった。<br />
SoMaのパッケージが、形状こそLGA1156近くともピン配置は大きく違うという可能性はあるが、当然確証はない。<br />
ソケットが非対称でも可能なのか、という疑問も浮かぶ。</p>

<p><br>
2つの説の要素を含めた、Co-processorにおける接続方法の違いの検証用という説も考えとしては浮かぶが、イマイチ確信は得られない。</p>

<p>そのため、やはりIntel SoMaチップは謎のままだ。</p>

<hr>

<p><span class="reference">参考:</span></p>

<ul>
<li><cite><a href="https://www.hardwareluxx.de/index.php/news/hardware/prozessoren/51658-xeon-soma-geheimnisvolles-mcm-design-von-intel-aufgetaucht.html" target="_blank">Xeon SoMa: Geheimnisvolles MCM-Design von Intel aufgetaucht (Update: Die-Shots) &ndash; Hardwareluxx</a></li>
<li><cite><a href="http://www.cpushack.com/2018/03/24/making-multicore-a-slice-of-sandy/" target="_blank">Making MultiCore: A Slice of Sandy | The CPU Shack Museum</a></cite></li>
</ul>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1">QuickPath Interconnect <a href="https://www.intel.com/content/www/us/en/io/quickpath-technology/quickpath-technology-general.html" target="_blank">Intel® QuickPath Interconnect</a>
 <a class="footnote-return" href="#fnref:1"><sup>[return]</sup></a></li>
<li id="fn:2">Intelより2015年に買収された。
 <a class="footnote-return" href="#fnref:2"><sup>[return]</sup></a></li>
<li id="fn:3">Ultra Path Interconnect <a href="https://software.intel.com/en-us/articles/intel-xeon-processor-scalable-family-technical-overview" target="_blank">Intel® Xeon® Processor Scalable Family Technical Overview | Intel® Software</a>
 <a class="footnote-return" href="#fnref:3"><sup>[return]</sup></a></li>
</ol>
</div>

</article><link rel="stylesheet" href="https://blog.coelacanth-dream.com/css/side.min.css"><div class="side"><div class="site_title">
   <a href="https://blog.coelacanth-dream.com/">Coelacanth's Dream</a><br>
</div>
<div class="side_block"><nav class="side_links">
   <a href="https://blog.coelacanth-dream.com/posts/">Archive</a>
   <a href="https://blog.coelacanth-dream.com/lastmod/">Lastmod</a><a href="https://blog.coelacanth-dream.com/tags/database/">Database</a>
</nav>
<div class="side_tag_block">
   <a href="https://blog.coelacanth-dream.com/tags/" class="side_tag_title">Tag :</a>
   <nav class="side_tag">
         <a href="https://blog.coelacanth-dream.com/tags/soma/" class="side_tag_lower">SoMa</a>
         <a href="https://blog.coelacanth-dream.com/tags/unknown/" class="side_tag_lower">Unknown</a>
   </nav>
</div>
<div class="side_category_block">
   <a href="https://blog.coelacanth-dream.com/categories/" class="side_category_title">Category :</a>
   <nav class="side_category">
         <a href="https://blog.coelacanth-dream.com/categories/hardware/" class="side_category_lower">Hardware</a>
         <a href="https://blog.coelacanth-dream.com/categories/intel/" class="side_category_lower">Intel</a>
   </nav>
</div>
<div class="side_time">
   <time datetime="2020-03-03 01:03">Post:<br>&emsp;2020/03/03 01:03</time>
   <div class="side_time_update">Update:<br>&emsp;2020/06/04 05:42</div>
</div>
<nav class="side_about"><a class="side_history" href="https://github.com/Umio-Yasuno/coelacanth-dream/commits/master/content/posts/2020/03/03/intel-unknown-soma.md" target="_blank" rel="noreferrer noopener">History</a>
<a href="https://blog.coelacanth-dream.com/about/">About</a>
         <a href="https://blog.coelacanth-dream.com/privacy/">Privacy</a>
         <a href="https://blog.coelacanth-dream.com/about/#contact">Contact</a>
         <a href="https://blog.coelacanth-dream.com/about/#support">Support</a>
         <a href="https://blog.coelacanth-dream.com/index.xml">RSS</a>
      </nav>
   <small class="copyright">&copy; 2019-2020 Umio Yasuno</small>
   </div>
</div>
<link rel="stylesheet" href="https://blog.coelacanth-dream.com/css/footer.min.css">
<footer><hr><div class="foot_tag_block">
   <a href="https://blog.coelacanth-dream.com/tags/" class="foot_tag_title">Tag :</a>
   <nav class="foot_tag">
         <a href="https://blog.coelacanth-dream.com/tags/soma/" class="foot_tag_lower">SoMa</a>
         <a href="https://blog.coelacanth-dream.com/tags/unknown/" class="foot_tag_lower">Unknown</a>
   </nav>
</div>
<div class="foot_category_block">
   <a href="https://blog.coelacanth-dream.com/categories/" class="foot_category_title">Category :</a>
   <nav class="foot_category">
         <a href="https://blog.coelacanth-dream.com/categories/hardware/" class="foot_category_lower">Hardware</a>
         <a href="https://blog.coelacanth-dream.com/categories/intel/" class="foot_category_lower">Intel</a>
   </nav>
</div>
<nav class="foot_links">
   <a href="https://blog.coelacanth-dream.com/posts/">Archive</a>
   <a href="https://blog.coelacanth-dream.com/lastmod/">Lastmod</a><a href="https://blog.coelacanth-dream.com/tags/database/">Database</a>
</nav>
<nav class="foot_about"><a class="foot_history" href="https://github.com/Umio-Yasuno/coelacanth-dream/commits/master/content/posts/2020/03/03/intel-unknown-soma.md" target="_blank" rel="noreferrer noopener">History</a>
<a href="https://blog.coelacanth-dream.com/about/">About</a>
      <a href="https://blog.coelacanth-dream.com/privacy/">Privacy</a>
      <a href="https://blog.coelacanth-dream.com/about/#contact">Contact</a>
      <a href="https://blog.coelacanth-dream.com/about/#support">Support</a>
      <a href="https://blog.coelacanth-dream.com/index.xml">RSS</a>
<a href="#" class="pagetop">Page Top</a></nav><div class="foot_time">
   <time datetime="2020-03-03 01:03">Post:<br>&emsp;2020/03/03 01:03</time>
   <div class="foot_time_update">Update:<br>&emsp;2020/06/04 05:42</div>
</div>
<small class="copyright">&copy; 2019-2020 Umio Yasuno</small>
</footer>
</main>
   </body>
</html>
