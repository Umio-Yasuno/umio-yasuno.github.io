<!DOCTYPE html>
<html lang="ja">
   <head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width">
   <meta name="referrer" content="no-referrer">
   <meta name="format-detection" content="telephone=no, address=no, email=no">
      <script data-ad-client="ca-pub-8523229124275958" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

   <base href="https://blog.coelacanth-dream.com/posts/2020/07/15/amd-tr-pro/">

   <meta property="og:site_name" content="Coelacanth&#39;s Dream">
   <meta name="twitter:card" content="summary">
   <meta property="og:type" content="article">
   <title>AMD、メモリ 8ch、PCIe 128レーンに対応した Threadripper Pro 4モデルを発表 | Coelacanth&#39;s Dream</title>
   <meta property="og:title" content="AMD、メモリ 8ch、PCIe 128レーンに対応した Threadripper Pro 4モデルを発表 | Coelacanth&#39;s Dream">
   <meta name="twitter:title" content="AMD、メモリ 8ch、PCIe 128レーンに対応した Threadripper Pro 4モデルを発表 | Coelacanth&#39;s Dream">

   <link rel="canonical" href="https://blog.coelacanth-dream.com/posts/2020/07/15/amd-tr-pro/">
   <meta name="description" content="―― ただし一部モデルのメモリ帯域は4chまでか AMD は、2020/07/14付で、PCIe Gen4 128レーンを備え、メモリは 8チャネル ECC">
   <meta property="og:description" content="―― ただし一部モデルのメモリ帯域は4chまでか AMD は、2020/07/14付で、PCIe Gen4 128レーンを備え、メモリは 8チャネル ECC">
   <meta name="twitter:description" content="―― ただし一部モデルのメモリ帯域は4chまでか AMD は、2020/07/14付で、PCIe Gen4 128レーンを備え、メモリは 8チャネル ECC">
   <meta property="og:image" content="https://blog.coelacanth-dream.com/image/coelacanth_dream.png">
   <meta name="twitter:image" content="https://blog.coelacanth-dream.com/image/coelacanth_dream.png">
   <meta name="url" content="https://blog.coelacanth-dream.com/posts/2020/07/15/amd-tr-pro/">
   <meta property="og:url" content="https://blog.coelacanth-dream.com/posts/2020/07/15/amd-tr-pro/">
   <meta property="og:locale" content="ja_JP">
   <meta name="author" content="Umio Yasuno">
   <meta name="keywords" content="Zen 2, Threadripper">

      <link rel="preload" href="https://blog.coelacanth-dream.com/css/side.min.css" as="style">
      <link rel="preload" href="https://blog.coelacanth-dream.com/css/footer.min.css" as="style">
            <link rel="prefetch" href="https://blog.coelacanth-dream.com/css/ds.min.css" as="style">
            <link rel="preload" href="https://blog.coelacanth-dream.com/css/page.min.css" as="style">
   <style>
html {
   background-size: cover;
   background-attachment: fixed;
   background-image: radial-gradient(farthest-corner, #2A4747 86%, #172727 96%, #040707 99%);
   background-repeat: no-repeat;
   font-size: .98em;
}
main {
   display: grid;
   grid-template-rows: repeat(5, auto) 3rem;
   grid-template-columns: 1vw 2vw auto 4vw;
   row-gap: 20px;
}
header {
   grid-row: 2 / 3;
   grid-column: 3 / -2;
   word-spacing: 100vw;
}
.site_title {
   font: normal 1.9rem/2.3rem monospace;
   text-decoration: none;
   margin-left: auto;
   text-align: end;
}
.site_title a {
   color: #819BA1;
   text-shadow: -4px 2px 1.8rem #748B90;
   word-break: keep-all;
   padding: 0;
}
.site_title a:hover {
   color: #90B4BD;
   text-shadow: -4px 2px 1.8rem #81A2AA;
   text-decoration: none;
}
a {
   color: #75D1FF;
   text-decoration: none;
   padding: 0 .3rem 0 .3rem;
   margin: 0;
   word-break: break-all;
}
.text {
   color: snow;
   box-sizing: border-box;
   overflow-wrap: break-word;
   font-size: .98rem;
   line-height: 1.7rem;
   overflow-x: scroll;
   scrollbar-width: thin;
   scrollbar-color: rgba(0,128,128, .5) rgba(0,0,0,0);
   grid-row: 3 / 5;
   grid-column: 1 / -1;
   opacity: 0;
}
article > p {
   letter-spacing: .015rem;
   margin: 0;
}
article > p::before {
   padding-right: .55rem;
   content: ' ';
}
footer, .side, .home, .posts, .tags, .categories {
   display: none;
}
footer {
   grid-row: 5 / -2;
   grid-column: 1 / -1;
}
article {
   display: grid;
   grid-template-rows: auto;
   grid-template-columns: .5% 1% auto 1%;
   row-gap: 16px;
}
article > p ~ * {
   display: none;

}
article > * {
   grid-column: 3 / -2;
   padding-bottom: 100vh;
}
h1 {
   color: #FFA319;
   font: normal 1.25rem/1.8rem sans-serif;
   grid-column: 2 / -1;
   margin: 1rem 0 1rem 0;
}
 
@media (min-width: 840px) {
   main {
      display: grid;
      grid-template-rows: 8px 8px repeat(3, auto) 6vh;
      grid-template-columns: 224px 12px 12px auto;
      row-gap: 36px;
   }
   .text {
      grid-row: 1 / -2;
      grid-column: 3 / -1;
      padding-top: 12px;
   }
   header > .site_title {
      display: none;
   }
   .site_title {
      font-size: 1.8rem;
      line-height: 2.4rem;
      max-width: 100%;
   }
   .page_title {
      grid-row: 2 / 3;
      grid-column: 3 / -1;
      padding-left: 4px;
   }
   .side {
      display: unset;
      height: 92vh;
      width: 208px;
      position: fixed;
         top: 2vh;
      padding: 28px 12px 0 8px;
      color: #20B2AA;
      border-right: 1px solid #468E76;
      font-size: 1rem;

      overflow: scroll;
      scrollbar-width: thin;
      scrollbar-color: rgba(0,128,128, .2) rgba(0,0,0,0);
   }
   .side_block {
      display: none;
      opacity: 0;
   }
}
</style>
<link rel="icon" href="https://blog.coelacanth-dream.com/favicon.ico">
      <link rel="apple-touch-icon" sizes="180x180" href="https://blog.coelacanth-dream.com/image/coelacanth_dream-180x180.png">
   </head>
   <body>
      <main>
         <header><div class="site_title">
   <a href="https://blog.coelacanth-dream.com/">Coelacanth's Dream</a><br>
</div>
</header>
         <link rel="stylesheet" href="https://blog.coelacanth-dream.com/css/page.min.css">
<article class="text">
   <h1>AMD、メモリ 8ch、PCIe 128レーンに対応した Threadripper Pro 4モデルを発表</h1>


<p>―― ただし一部モデルのメモリ帯域は4chまでか</p>

<p>AMD は、2020/07/14付で、PCIe Gen4 128レーンを備え、メモリは 8チャネル ECC RIMM、LRIMM、UDIMM DDR4-3200、容量 2TB まで対応した、<em>Zen 2 アーキテクチャ</em> 採用のワークステーション向けプロセッサ、<strong>Ryzen Threadripper Pro</strong> を 4モデル発表した。<br />
メモリのデータを暗号化する <strong>AMD Memory Guard</strong> にも対応し、ビジネス向けのサポートも付く。<br />
OEM向けとされ、製品は <a href="https://thinkstation-specs.com/thinkstation/p620/" rel="noreferrer" target="_blank">Lenovo ThinkStation P620</a> に搭載されて登場する。<br />
<span class="reflink"><a href="https://ir.amd.com/news-releases/news-release-details/amd-announce-worlds-first-64-core-pro-workstation-lenovotm" rel="noreferrer" target="_blank">AMD Announce World’s First 64-Core PRO Workstation, the Lenovo™ ThinkStation™ P620, the Pinnacle of Performance for Modern Professionals | Advanced Micro Devices</a></span><br>
</p>

<table>
<thead>
<tr>
<th align="left">Model</th>
<th align="center">Core/Thread</th>
<th align="center">Base/Boost Clock</th>
<th align="center">Total Cache</th>
<th align="center">TDP</th>
<th align="center">PCIe Gen4</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">Ryzen Threadripper<br>Pro 3995WX</td>
<td align="center">64/128</td>
<td align="center">2.7/4.2 GHz</td>
<td align="center">288 MB</td>
<td align="center">280 W</td>
<td align="center">128-Lane</td>
</tr>

<tr>
<td align="left">Ryzen Threadripper<br>Pro 3975WX</td>
<td align="center">32/64</td>
<td align="center">3.5/4.2 GHz</td>
<td align="center">144 MB</td>
<td align="center">280 W</td>
<td align="center">128-Lane</td>
</tr>

<tr>
<td align="left">Ryzen Threadripper<br>Pro 3955WX</td>
<td align="center">16/32</td>
<td align="center">3.9/4.3 GHz</td>
<td align="center">72 MB</td>
<td align="center">280 W</td>
<td align="center">128-Lane</td>
</tr>

<tr>
<td align="left">Ryzen Threadripper<br>Pro 3945WX</td>
<td align="center">12/24</td>
<td align="center">4.0/4.3 GHz</td>
<td align="center">70 MB</td>
<td align="center">280 W</td>
<td align="center">128-Lane</td>
</tr>
</tbody>
</table>


<ins >
	<span class="insbegin">（追記）</span>
   <div class="ins-content">
   <ul>
<li><a href="https://www.amd.com/en/products/cpu/amd-ryzen-threadripper-pro-3995wx#product-specs" rel="noreferrer" target="_blank">AMD Ryzen™ Threadripper™ PRO 3995WX | AMD</a></li>
<li><a href="https://www.amd.com/en/products/cpu/amd-ryzen-threadripper-pro-3975wx#product-specs" rel="noreferrer" target="_blank">AMD Ryzen™ Threadripper™ PRO 3975WX | AMD</a></li>
<li><a href="https://www.amd.com/en/products/cpu/amd-ryzen-threadripper-pro-3955wx#product-specs" rel="noreferrer" target="_blank">AMD Ryzen™ Threadripper™ PRO 3955WX | AMD</a></li>
<li><a href="https://www.amd.com/en/products/cpu/amd-ryzen-threadripper-pro-3945wx#product-specs" rel="noreferrer" target="_blank">AMD Ryzen™ Threadripper™ PRO 3945WX | AMD</a></li>
</ul>

<p>AMD公式サイトに記載されている仕様が、ニュースリリースと <a href="https://thinkstation-specs.com/thinkstation/p620/" rel="noreferrer" target="_blank">Lenovo ThinkStation P620</a> の仕様で異なり、公式サイトの仕様の方が高いクロックとなっているが、<br />
どっちが正しいのか。</p>

<ul>
<li>Pro 3995WX: 2.7/4.3 GHz</li>
<li>Pro 3975WX: 3.5/4.35 GHz</li>
<li>Pro 3955WX: 3.9/4.4 GHz</li>
<li>Pro 3945WX: 4.0/4.4 GHz</li>
</ul>

   </div>
	<span class="insend">（追記終了）</span>
</ins>
<br>


<h2 id="帯域は-4ch相当までとなる-pro-3955wx-と-pro-3945wx">帯域は 4ch相当までとなる Pro 3955WX と Pro 3945WX</h2>

<p><strong>EPYC 7002シリーズ</strong> 同等のメモリと PCIe Gen4レーンを持ち、サーバ向けI/Oダイ(sIOD) とソケット仕様をフルスペックで解放した <strong>Ryzen Threadripper Pro</strong> だが、当然制約も引き継がれている。</p>

<figure>
   <a href="https://blog.coelacanth-dream.com/image/2020/07/15/castle_peak-diagram.webp" target="_blank">
   <img src="https://blog.coelacanth-dream.com/image/2020/07/15/castle_peak-diagram.webp"
         alt="画像出典: AMD Ryzen™ Processor Software Optimization – GPUOpen_Let’sBuild2020_AMD Ryzen™ Processor Software Optimization.pdf"/> </a><figcaption>
         <h4>Castle Peak</h4><p>画像出典: <a href="http://gpuopen.com/wp-content/uploads/slides/GPUOpen_Let%E2%80%99sBuild2020_AMD%20Ryzen%E2%84%A2%20Processor%20Software%20Optimization.pdf" rel="noreferrer" target="_blank">AMD Ryzen™ Processor Software Optimization – GPUOpen_Let’sBuild2020_AMD Ryzen™ Processor Software Optimization.pdf</a></p>
   </figcaption>
</figure>


<p>AMD はサーバ向け <strong>EPYC 7002シリーズ (Rome)</strong>、デスクトップ向け <strong>Ryzen 3000シリーズ (Matisse)</strong> 、ハイエンド向け <strong>Ryzen Threadripper 3000シリーズ (Castle Peak)</strong> において、CPUコアをまとめた <em>CCD</em> と I/O機能をまとめた <em>IOD</em> を分離するチップレットアーキテクチャを導入したが、<br />
<em>CCD</em> と <em>IOD</em> 間の接続帯域は、Read と Write で異なり、Read 2 (32B/C) : Write 1 (16B/C)のバランスとなっている。<span class="complement">これはダイ間のデータ転送に伴う消費電力を削減するためとされている</span>
</p>

<p>これによりメモリ帯域は実質 <em>CCD</em> の数に制限される。<br />
メモリコントローラと DDR4メモリが 16Byte/Cycle で接続されているため、8ch の帯域を満たすのに Read だけなら <em>4 CCDs</em> でも十分だが、その場合 Write の帯域は 4ch相当となり、Write 帯域を満たすなら最大搭載可能数である <em>8 CCDs</em> の構成である必要がある。<br />
Read 帯域も <em>4 CCDs</em> 未満の場合は満たすことができず、4ch相当の帯域となる。<br />
<em>sIOD</em> は 2つの Data Fabric を持ち、<em>CCD</em> 数は対称的となるため、<em>3 CCDs</em> の構成を取ることは出来ず、<em>4 CCDs</em> 未満のパターンには <em>2 CCDs</em> 、<em>1 CCD</em> があたる。</p>

<p><em>2 CCDs</em> 構成である <strong>EPYC 7282 /7272 /7252 /7232P</strong> はその旨が記載されており<sup class="footnote-ref" id="fnref:rome-2ccd"><a href="#fn:rome-2ccd">1</a></sup>、性能は 4ch DDR4-2667MHz に最適化され、搭載DIMM数を増やしても帯域は増えないとある。<br />
<strong>EPYC 7232P</strong> は L3cache 32MB だが、<a href="https://www.servethehome.com" rel="noreferrer" target="_blank">ServeTheHome</a>によるレビュー記事内の <code>lstopo</code> コマンド実行結果を見ると、L3cache 8MB が 4基存在することがわかる。<sup class="footnote-ref" id="fnref:sth-epyc-7232p-topo"><a href="#fn:sth-epyc-7232p-topo">2</a></sup><br />
このことから <strong>EPYC 7232P</strong> は <em>2 CCDs</em> 構成だが、<em>CCX</em> あたりの L3cache を半分に制限していると考えられる。</p>

<p>よって、L3cacheサイズから <em>2 CCDs</em> 構成と考えられる <strong>Pro 3955WX</strong> と <strong>Pro 3945WX</strong> はRead 帯域においても 4ch 相当であると思われる。<br />
それでもメモリ容量は 2TBまで対応しているため、Pro としてメモリ性能で劣るばかりではない。<br />
<strong>EPYC 7232P</strong> の様に、<em>2 CCDs</em> 分の L3cacheサイズでありながら、実際は <em>4 CCDs</em> 構成の可能性もあるが、AMD がメモリ帯域をアピールせず、数字を出していないためはっきりしない。</p>

<p><strong>Pro 3975WX</strong> も Write 帯域は 4ch相当になるだろうが、チップレットアーキテクチャはダイ分離に伴うメモリレイテンシと帯域不足を補うため、L3cacheを前世代から大幅に増やしている。<br />
Write 帯域の制限がそのまま性能の限界に繋がることもそうないと思われる。<br />
また、チップレットアーキテクチャの制限と書いたが、AMD はこれにより、同コア同スレッド数でも <em>CCD</em> 数を変えることで特長の異なるモデルを複数出すことに成功している。<br />
こうした柔軟性はチップレットアーキテクチャの利点と言えるだろう。</p>
<div class="footnotes">

<hr />

<ol>
<li id="fn:rome-2ccd"><a href="https://www.amd.com/en/products/cpu/amd-epyc-7282#product-specs" rel="noreferrer" target="_blank">2nd Gen AMD EPYC™ 7282 | Server Processor | AMD</a><br><a href="https://www.amd.com/en/products/cpu/amd-epyc-7272#product-specs" rel="noreferrer" target="_blank">2nd Gen AMD EPYC™ 7272 | Server Processor | AMD</a><br><a href="https://www.amd.com/en/products/cpu/amd-epyc-7252#product-specs" rel="noreferrer" target="_blank">2nd Gen AMD EPYC™ 7252 | Server Processor | AMD</a><br><a href="https://www.amd.com/en/products/cpu/amd-epyc-7232p#product-specs" rel="noreferrer" target="_blank">2nd Gen AMD EPYC™ 7232P | Server Processor | AMD</a>
 <a class="footnote-return" href="#fnref:rome-2ccd"><sup>[return]</sup></a></li>
<li id="fn:sth-epyc-7232p-topo"><a href="https://www.servethehome.com/amd-epyc-7232p-review-hard-to-buy-but-solid-part/amd-epyc-7232p-in-gb-nvme-server-topology/" rel="noreferrer" target="_blank">AMD EPYC 7232P In GB NVMe Server Topology | ServeTheHome</a>
 <a class="footnote-return" href="#fnref:sth-epyc-7232p-topo"><sup>[return]</sup></a></li>
</ol>
</div>

</article><link rel="stylesheet" href="https://blog.coelacanth-dream.com/css/side.min.css"><div class="side"><div class="site_title">
   <a href="https://blog.coelacanth-dream.com/">Coelacanth's Dream</a><br>
</div>
<div class="side_block"><nav class="side_links">
   <a href="https://blog.coelacanth-dream.com/posts/">Archive</a>
   <a href="https://blog.coelacanth-dream.com/lastmod/">Lastmod</a><a href="https://blog.coelacanth-dream.com/tags/database/">Database</a>
</nav>
<div class="side_tag_block">
   <a href="https://blog.coelacanth-dream.com/tags/" class="side_tag_title">Tag :</a>
   <nav class="side_tag">
         <a href="https://blog.coelacanth-dream.com/tags/threadripper/" class="side_tag_lower">Threadripper</a>
         <a href="https://blog.coelacanth-dream.com/tags/zen_2/" class="side_tag_lower">Zen 2</a>
   </nav>
</div>
<div class="side_category_block">
   <a href="https://blog.coelacanth-dream.com/categories/" class="side_category_title">Category :</a>
   <nav class="side_category">
         <a href="https://blog.coelacanth-dream.com/categories/amd/" class="side_category_lower">AMD</a>
         <a href="https://blog.coelacanth-dream.com/categories/cpu/" class="side_category_lower">CPU</a>
         <a href="https://blog.coelacanth-dream.com/categories/hardware/" class="side_category_lower">Hardware</a>
   </nav>
</div>
<div class="side_time">
   <time datetime="2020-07-15 02:15">Post:<br>&emsp;2020/07/15 02:15</time>
   <div class="side_time_update">Update:<br>&emsp;2020/07/17 04:04</div>
</div>
<nav class="side_about"><a class="side_history" href="https://github.com/Umio-Yasuno/coelacanth-dream/commits/master/content/posts/2020/07/15/amd-tr-pro.md" target="_blank" rel="noreferrer noopener">History</a>
<a href="https://blog.coelacanth-dream.com/about/">About</a>
         <a href="https://blog.coelacanth-dream.com/about/#contact">Contact</a>
         <a href="https://blog.coelacanth-dream.com/about/#support">Support</a>
         <a href="https://blog.coelacanth-dream.com/index.xml">RSS</a>
      </nav>
   <small class="copyright">&copy; 2019-2020 Umio Yasuno</small>
   </div>
</div>
<link rel="stylesheet" href="https://blog.coelacanth-dream.com/css/footer.min.css">
<footer><hr><div class="foot_tag_block">
   <a href="https://blog.coelacanth-dream.com/tags/" class="foot_tag_title">Tag :</a>
   <nav class="foot_tag">
         <a href="https://blog.coelacanth-dream.com/tags/threadripper/" class="foot_tag_lower">Threadripper</a>
         <a href="https://blog.coelacanth-dream.com/tags/zen_2/" class="foot_tag_lower">Zen 2</a>
   </nav>
</div>
<div class="foot_category_block">
   <a href="https://blog.coelacanth-dream.com/categories/" class="foot_category_title">Category :</a>
   <nav class="foot_category">
         <a href="https://blog.coelacanth-dream.com/categories/amd/" class="foot_category_lower">AMD</a>
         <a href="https://blog.coelacanth-dream.com/categories/cpu/" class="foot_category_lower">CPU</a>
         <a href="https://blog.coelacanth-dream.com/categories/hardware/" class="foot_category_lower">Hardware</a>
   </nav>
</div>
<nav class="foot_links">
   <a href="https://blog.coelacanth-dream.com/posts/">Archive</a>
   <a href="https://blog.coelacanth-dream.com/lastmod/">Lastmod</a><a href="https://blog.coelacanth-dream.com/tags/database/">Database</a>
</nav>
<nav class="foot_about"><a class="foot_history" href="https://github.com/Umio-Yasuno/coelacanth-dream/commits/master/content/posts/2020/07/15/amd-tr-pro.md" target="_blank" rel="noreferrer noopener">History</a>
<a href="https://blog.coelacanth-dream.com/about/">About</a>
      <a href="https://blog.coelacanth-dream.com/about/#contact">Contact</a>
      <a href="https://blog.coelacanth-dream.com/about/#support">Support</a>
      <a href="https://blog.coelacanth-dream.com/index.xml">RSS</a>
<a href="#" class="pagetop">Page Top</a></nav><div class="foot_time">
   <time datetime="2020-07-15 02:15">Post:<br>&emsp;2020/07/15 02:15</time>
   <div class="foot_time_update">Update:<br>&emsp;2020/07/17 04:04</div>
</div>
<small class="copyright">&copy; 2019-2020 Umio Yasuno</small>
</footer>
</main>
   </body>
</html>
