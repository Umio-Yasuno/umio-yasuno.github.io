<!DOCTYPE html>
<html>
	<head>
	    	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<meta http-equiv="Cache-Control" content="max-age=2592000">
<title>Renoirの情報アップデート&amp;推測 Part3 | Coelacanth&#39;s Dream</title>
	<meta name="description" content="Renoir SKU AMD Renoir APUs | GPU details for all SKUs with TDP | All GPU configurations for mobile &amp; desktop - Reddit : Amd Redditユーザーの_rogame氏がAMD Bootcamp Driver内の情報と過去のZen APU情報を結びつけ、SKUの詳細を考察したというもの。 見た... " />
	<base href="https://umio-yasuno.github.io/posts/2019/12/21/renoir-guess-p3/">
	<link rel="canonical" href="https://umio-yasuno.github.io/posts/2019/12/21/renoir-guess-p3/" itemprop="url" /> 
	<meta name="url" content="https://umio-yasuno.github.io/posts/2019/12/21/renoir-guess-p3/" />
	<meta name="author" content="Umio Yasuno" />
	<meta name="keywords" content=" Radeon, Renoir, APU" />
	<meta name="referrer" content="no-referrer" />
	<meta name="format-detection" content="telephone=no, address=no, email=no">

	<meta property="og:locale" content="ja">

	<link rel="preload" href="https://umio-yasuno.github.io/css/lain.min.css" as="style" importance="high">
	<link rel="preload" href="https://umio-yasuno.github.io/css/animation.min.css" as="style" importance="high">
		<link rel="stylesheet" href="https://umio-yasuno.github.io/css/lain.min.css">
		<link rel="stylesheet" href="https://umio-yasuno.github.io/css/animation.min.css">
		<link rel="icon" href="https://umio-yasuno.github.io/favicon.ico">
	</head>
    <body>
	<main>
		<article class="text">
			<br>
			<header>	<span class="title">
		<a href="https://umio-yasuno.github.io/">Coelacanth&#39;s Dream</a>
	</span>
</header>
			<br>
		<h2><span class="page-title">Renoirの情報アップデート&amp;推測 Part3 </span></h2>
			

<h3 id="renoir-sku">Renoir SKU</h3>

<p><a href="https://www.reddit.com/r/Amd/comments/ebxsvh/amd_renoir_apus_gpu_details_for_all_skus_with_tdp/" rel="nofollow noreferrer" target="_blank">AMD Renoir APUs | GPU details for all SKUs with TDP | All GPU configurations for mobile &amp; desktop - Reddit : Amd</a><br />
Redditユーザーの<a href="https://www.reddit.com/user/_rogame/" rel="nofollow noreferrer" target="_blank">_rogame</a>氏がAMD Bootcamp Driver内の情報と過去のZen APU情報を結びつけ、SKUの詳細を考察したというもの。<br />
見た限り、筋は通っているように思える。</p>

<p>ただ、RenoirのRevisionIDに関しては多くがGPUOpen-Toolsのcommon-src-DeviceInfoにて開示されているが、<a href="https://github.com/GPUOpen-Tools/common-src-DeviceInfo/blob/master/DeviceInfoUtils.cpp#L528" rel="nofollow noreferrer" target="_blank">DeviceInfoUtils.cpp</a><br />
ShaderEngine数、CU数といった性能に関した記述は全く出ていない（Ravenから更新されていない）ため、上記の_rogame氏の考察を裏付けることはできない。</p>

<p>それでもRevisionIDの傾向に沿っているため、大きく外れているという訳でもない。</p>

<pre><code>（Xには0からFまでのどれかが入る）
        0X = Pro/WS/Mx
        4X = Apple
        8X = Embedded
        9X = Embedded (low?)
        CX = Consumer (Gaming)
        DX = Pro
        EX = Reserve? (Custom?)
        FX = Test?
</code></pre>

<p>AMDは他のGPUでも基本この傾向にあり、<a href="https://github.com/GPUOpen-Tools/common-src-DeviceInfo/blob/master/DeviceInfoUtils.cpp" rel="nofollow noreferrer" target="_blank">DeviceInfoUtils.cpp</a>と組み合わせるとAMDがどういったSKUを用意しているかがぼんやりと見えてくる。</p>

<p>個人的には、_rogame氏の考察は概ね合っていると思うし、90%信用していいと思う。<br />
後述の自身の考察では合っているものとして扱う。</p>

<h3 id="ryzen-7-4700u">Ryzen 7 4700U</h3>

<p><a href="https://www.reddit.com/r/Amd/comments/ed9qyr/renoir_apu_ryzen_7_4700u_8c8t_2ghz42ghz_pcmark10/" rel="nofollow noreferrer" target="_blank">Renoir APU | Ryzen 7 4700U 8C/8T 2GHz/4.2GHz | Pcmark10 &amp; more - Reddit : Amd</a><br />
こちらも_rogame氏によるもの。<br />
Ryzen 7 4700Uで3DMARKを実行した結果のスクリーンショットで、_rogame氏はGPUのCU数は10/11CUだと見ている。<br />
そしてRyzen 7 4700Uは8C/8Tの構成であり、RenoirはRaven/Picassoの2倍のコア/スレッドが可能、ということがほぼ確定となった。<br />
SMTが無効化されていることから、有効にされた8C/16TがRyzen 9の枠に納まるのかもしれない。</p>

<p>以前、RenoirのRyzen 9はあくまで噂としたが、それはコア数をある程度デスクトップと合わせるんじゃないか、なんて考えていたからだ。<br />
今にしては、AMDはモバイル向けの4C/8TにもRyzen 7を、Intelも6C/12Tにi9のブランドを飾っている。<br />
だから完全に思い違いで、知識不足だった。</p>

<h3 id="考察とか">考察とか</h3>

<h4 id="cpu構成">CPU構成</h4>

<p>まず間違いなくL3キャッシュ容量は減らすと思われる。</p>

<p>Zen/+アーキテクチャでは、CCXごとにL3モジュール（1MB）が8基存在し、それによってL3キャッシュ 8MBとしていた。<br />
<a href="https://ascii.jp/elem/000/001/406/1406039/" rel="nofollow noreferrer" target="_blank">Summit Ridgeは冷却性能でクロックが変動　AMD CPUロードマップ  - ASCII.jp</a><br />
<a href="https://ascii.jp/elem/000/001/406/1406052/img.html" rel="nofollow noreferrer" target="_blank">https://ascii.jp/elem/000/001/406/1406052/img.html</a><br />
だがAPUであるRavenでは、そのL3モジュール（1MB）を4基に減らし、L3キャッシュ4MBとした。<br />
<a href="https://www.flickr.com/photos/130561288@N04/39716562275" rel="nofollow noreferrer" target="_blank">AMD@14nm@Zen(Zeppelin)@Raven_Ridge@Ryzen_3_2200G - Flickr</a>（<a href="https://www.flickr.com/photos/130561288@N04/" rel="nofollow noreferrer" target="_blank">Fritzchens Fritz</a>によるダイショット）<br />
これは、SRAMは容量に対して必要とする面積が大きく、それによるリーク電流で消費電力が増えてしまうため、モバイルが主なターゲットとなるAPUでも不利となるからだと思われる。<br />
コスト面を考えてもダイサイズは小さい方がいい。<br />
参考: <a href="https://pc.watch.impress.co.jp/docs/column/semicon/544296.html" rel="nofollow noreferrer" target="_blank">プロセッサのキャッシュに不揮発性メモリを使う - PC Watch</a><br />
Renoirでも同様の理由でL3モジュール減らすはずで、やるとしたらZen2 CCD（8C/16T）の32基の半分、16基となるだろうか。</p>

<p>Zen2 CCDのダイショットを見る限り、モジュールあたりの容量は増やさずに、モジュールの数を2倍に増やす形でL3キャッシュ 32MBを実現しているため、<br />
<a href="https://www.flickr.com/photos/130561288@N04/49045449908/" rel="nofollow noreferrer" target="_blank">AMD@7nm(12nmIOD)@Zen2@Rome@EPYC_7702_ES - Flickr</a>（またまた<a href="https://www.flickr.com/photos/130561288@N04/" rel="nofollow noreferrer" target="_blank">Fritzchens Fritz</a>によるダイショット）
やろうと思えばRenoirでCCXあたりL3モジュール 4基、総8基にできそうだが、<br />
コアの縦の長さに合わせて配置しているため、そこまでいじろうとすると手間がかかるだろうからやらないと考えている。</p>

<h4 id="gpu構成">GPU構成</h4>

<p>そこまで大きな変更はないはず。<br />
Raven（gfx902）であった、scissor機能やDCCのバグを修正をした、Raven2と同じ<strong>gfx909</strong>となるくらいで。<br />
L2キャッシュ 1MB、8 ROPという構成もそのままだろう。</p>

<h4 id="cpu-gpu">CPU+GPU</h4>

<p>_rogame氏のRenoir SKUでは最大13CUとなっており、それならダイにも13CUとなりそうだが、まずRenoirにはCCXが2基ある。<br />
大体同じ比率として<br />
<a href="https://www.flickr.com/photos/130561288@N04/39716562275" rel="nofollow noreferrer" target="_blank">AMD@14nm@Zen(Zeppelin)@Raven_Ridge@Ryzen_3_2200G - Flickr</a><br />
を元に考えると、CCXを90度回転させて2基配置するのが効率良いのではないかと思う。<br />
<img src="https://umio-yasuno.github.io/image/2019/12/21/renoir_guess01.webp" alt="Renoir kuso-colla" /></p>

<p>クソコラで申し訳ないが、自分が言いたいのはそうしたCCXの配置によって伸びた分が、CUを11から増やすのにも丁度いい、ということだ。</p>

<p>ただ効率が良さそう、と言っても多少ダイサイズは増加する。<br />
これまた雑な計算だと縦に30%程増加する。</p>

<p>209.78[mm<sup>2</sup>] * 1.3 = 272.714[mm<sup>2</sup>]<br />
GF 14/12nmからTSMC 7nmとして、当然単純に半分にならない部分もあるため、<br />
どんぶり勘定となるがRaven2と同程度か少し大きいくらいのダイサイズになるのではないかと思う。<br />
Zen2 CCDは必要だった、IFOPの物理的な接続部分がいらないため、2CCXのダイサイズはだいぶ小さくできる。<br />
I/O部分は、ソケットがFP5からFP6へと変更するが、上画像の空白部分を埋める程度でそう大きくは変わらないと思っている。</p>

<p>Intel 10nmのIcelakeが ~131mm<sup>2</sup>程であり、それと比べると大きくはなるだろう。<br />
<a href="https://ascii.jp/elem/000/001/873/1873186/index-4.html" rel="nofollow noreferrer" target="_blank">デスクトップ向けIce Lakeの出荷は絶望的　インテル CPUロードマップ  - ASCII.jp</a></p>

<h4 id="電力密度とか">電力密度とか</h4>

<p>Renoirの不安要素に電力密度がある。<br />
何しろRaven2程のダイサイズにZen2 8コアとVega13CUとかが詰め込まれているのだ。<br />
そして_rogame氏のSKUではグレード高ければコア数もCU数も多いことになっている。<br />
ゲームのようなCPU/GPU両方を使うソフトだと、お互いがTDP枠を喰いあってサーマルスロットリングが発生するのは容易に想像できる。<br />
そうでなくともCPU/GPU共にピーク性能は抑えられそうな気がするが、以前あったGPU 1.8GHzというのが引っかかる。<br />
ブースト機能が悪さをしなければいいのだが。</p>

<p>電力密度は大きくなり、発熱する部分の割合が増える。<br />
Raven/Picassoでも発熱によるサーマルスロットリングが問題となっていたが、Renoirではさらに悪化すると思われる。<br />
16CUが可能そうなのに、SKUでは13CUとなっているのは電力密度の問題を少しでも軽減させる目的があるかもしれない。</p>

<p>電力密度の問題を軽減する意味も含めて、CPU偏重、GPU偏重、バランスといった別々の傾向を持ったSKUも可能だと思われるが、そういった話が全く無いのはSKUの複雑化を避けたのだろうか。</p>

<h3 id="構造推測">構造推測</h3>

<p><img src="https://umio-yasuno.github.io/image/2019/12/21/renoir_guess02.webp" alt="Renoir Diagram" /></p>

<p>推測図の更新。</p>

<p>以下、表まとめ:</p>

<table>
<thead>
<tr>
<th align="left">Renoir</th>
<th align="center">CPU / Thread</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">Ryzen 9</td>
<td align="center">8/16 ?</td>
</tr>

<tr>
<td align="left">Ryzen 7</td>
<td align="center">8/8 ?</td>
</tr>

<tr>
<td align="left">Ryzen 5</td>
<td align="center">6/12 ?</td>
</tr>

<tr>
<td align="left">Ryzen 3</td>
<td align="center">4/8 ?</td>
</tr>
</tbody>
</table>

<table>
<thead>
<tr>
<th align="left"><span style="color:crimson">RV</th>
<th align="center"><span style="color:coral">Raven</th>
<th align="center"><span style="color:coral">Raven2</th>
<th align="center"><span style="color:coral">Picasso</th>
<th align="center"><span style="color:#f4a460">Renoir</th>
<th align="center"><span style="color:#f4a460">Dali</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">CMOS CPU</td>
<td align="center">14nm</td>
<td align="center">14nm</td>
<td align="center">12nm</td>
<td align="center">7nm?</td>
<td align="center">12nm?</td>
</tr>

<tr>
<td align="left">CPU</td>
<td align="center">Zen(+)</td>
<td align="center">Zen(+)</td>
<td align="center">Zen+</td>
<td align="center">Zen2</td>
<td align="center">Zen+?</td>
</tr>

<tr>
<td align="left">Max CPU Core/Thread</td>
<td align="center">4/8</td>
<td align="center">2/4</td>
<td align="center">4/8</td>
<td align="center">8/16 ?</td>
<td align="center">2/4 ?</td>
</tr>

<tr>
<td align="left">L3$ CPU</td>
<td align="center">4MB</td>
<td align="center">4MB</td>
<td align="center">4MB</td>
<td align="center">16MB?</td>
<td align="center">4MB?</td>
</tr>

<tr>
<td align="left"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>

<tr>
<td align="left">CMOS GPU</td>
<td align="center">14nm</td>
<td align="center">14nm</td>
<td align="center">12nm</td>
<td align="center">7nm?</td>
<td align="center">12nm?</td>
</tr>

<tr>
<td align="left">GPU</td>
<td align="center">Vega (GFX9)</td>
<td align="center">Vega (GFX9)</td>
<td align="center">Vega (GFX9)</td>
<td align="center">Vega (GFX9)</td>
<td align="center">Vega (GFX9)</td>
</tr>

<tr>
<td align="left">GPU Clock</td>
<td align="center">1300 MHz</td>
<td align="center">1200 MHz</td>
<td align="center">1400 MHz</td>
<td align="center">1800 MHz?</td>
<td align="center"></td>
</tr>

<tr>
<td align="left">Shader Engine</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1 ?</td>
<td align="center">1 ?</td>
</tr>

<tr>
<td align="left">Max CUs</td>
<td align="center">11</td>
<td align="center">3</td>
<td align="center">11</td>
<td align="center">13 ?</td>
<td align="center">3 ?</td>
</tr>

<tr>
<td align="left">Max TMUs</td>
<td align="center">44</td>
<td align="center">12</td>
<td align="center">44</td>
<td align="center">52 ?</td>
<td align="center">12 ?</td>
</tr>

<tr>
<td align="left">Max ROPs</td>
<td align="center">8</td>
<td align="center">4</td>
<td align="center">8</td>
<td align="center">8 ?</td>
<td align="center">4 ?</td>
</tr>

<tr>
<td align="left">L2$ GPU</td>
<td align="center">1MB</td>
<td align="center">0.5MB</td>
<td align="center">1MB</td>
<td align="center">1MB?</td>
<td align="center">0.5MB?</td>
</tr>

<tr>
<td align="left"></td>
<td align="center"><span style="color:coral">Raven</td>
<td align="center"><span style="color:coral">Raven2</td>
<td align="center"><span style="color:coral">Picasso</td>
<td align="center"><span style="color:#f4a460">Renoir</td>
<td align="center"><span style="color:#f4a460">Dali</td>
</tr>

<tr>
<td align="left">Memory Type</td>
<td align="center">DDR4</td>
<td align="center">DDR4</td>
<td align="center">DDR4</td>
<td align="center">LP/DDR4/X</td>
<td align="center">DDR4 ?</td>
</tr>

<tr>
<td align="left">Support Memory Speed</td>
<td align="center">2933 MHz</td>
<td align="center">2400 MHz</td>
<td align="center">2933 MHz</td>
<td align="center">4266 MHz?</td>
<td align="center">2933 MHz?</td>
</tr>

<tr>
<td align="left">VCN ver</td>
<td align="center">1.0</td>
<td align="center">1.0</td>
<td align="center">1.0</td>
<td align="center">2.0</td>
<td align="center">1.0?</td>
</tr>

<tr>
<td align="left">DCN ver</td>
<td align="center">1.0</td>
<td align="center">1.0</td>
<td align="center">1.0</td>
<td align="center">2.1</td>
<td align="center">1.0</td>
</tr>

<tr>
<td align="left">DeviceID</td>
<td align="center">15DD</td>
<td align="center">15D8 /15DD</td>
<td align="center">15D8</td>
<td align="center">1636</td>
<td align="center">15D8 /15D9?</td>
</tr>

<tr>
<td align="left">GPU ID</td>
<td align="center">gfx902</td>
<td align="center">gfx909</td>
<td align="center">gfx902</td>
<td align="center">gfx909</td>
<td align="center">gfx909</td>
</tr>

<tr>
<td align="left">Die Size</td>
<td align="center">209.78 mm<sup>2</sup></td>
<td align="center">154.68 mm<sup>2</sup>??</td>
<td align="center">209.78 mm<sup>2</sup></td>
<td align="center">~180mm<sup>2</sup>?</td>
<td align="center"></td>
</tr>
</tbody>
</table>

<hr>

<p><code>Renoir関連まとめ</code></p>

<ul>
<li><a href="https://umio-yasuno.github.io/posts/2019/11/09/renoir-guess/">Renoirの構造推測 </a><br /></li>
<li><a href="https://umio-yasuno.github.io/posts/2019/12/02/renoir-guess-p2/">Renoirの構造推測 Part2 </a><br /></li>
</ul>

<hr>
<div class="footer">
<a href="https://umio-yasuno.github.io/tags">Tags</a>:<a href="https://umio-yasuno.github.io/tags/radeon"> Radeon,</a><a href="https://umio-yasuno.github.io/tags/gcn"> GCN,</a><a href="https://umio-yasuno.github.io/tags/raven"> Raven,</a><a href="https://umio-yasuno.github.io/tags/gfx9"> GFX9,</a><a href="https://umio-yasuno.github.io/tags/gfx909"> gfx909,</a><a href="https://umio-yasuno.github.io/tags/renoir"> Renoir,</a><a href="https://umio-yasuno.github.io/tags/dali"> Dali,</a><a href="https://umio-yasuno.github.io/tags/zen2"> Zen2,</a><br>
			<a href="https://umio-yasuno.github.io/categories">Categories</a>:<a href="https://umio-yasuno.github.io/categories/hardware"> Hardware,</a><a href="https://umio-yasuno.github.io/categories/amd"> AMD,</a><a href="https://umio-yasuno.github.io/categories/apu"> APU,</a><a href="https://umio-yasuno.github.io/categories/gpu"> GPU,</a><br> <span>&nbsp;&nbsp;Author : Umio Yasuno</span>
		&nbsp;/&nbsp;&nbsp;<span data-lastmod="Jan 7 2020, 08:15">Lastmod : Jan 7, 08:15</span>
		<br>
		<address class="mail"><a href="https://umio-yasuno.github.io/about/">About</a> </address><br>
		<span class="title">
		<a href="https://umio-yasuno.github.io/">Coelacanth&#39;s Dream</a>
	</span>
</div>

		</article>
	</main>
					<div class="lace"></div> 
    </body>
</html>
