<!DOCTYPE html>
<html>
	<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width"><title>もっとスマートを</title>
<title itemprop="name">もっとスマートを | Coelacanth&#39;s Dream</title>
	<meta property="og:title" content="もっとスマートを | Coelacanth&#39;s Dream" />
	<meta name="twitter:title" content="もっとスマートを | Coelacanth&#39;s Dream" />
	<meta itemprop="name" content="もっとスマートを | Coelacanth&#39;s Dream" />
	<meta name="application-name" content="もっとスマートを | Coelacanth&#39;s Dream" />
	<meta property="og:site_name" content="" />
	
	<meta name="description" content="" />
	<meta itemprop="description" content="" />
	<meta property="og:description" content="" />
	<meta name="twitter:description" content="" />

	<base href="https://umio-yasuno.github.io/posts/2019/11/25/more-smart/">
	<link rel="canonical" href="https://umio-yasuno.github.io/posts/2019/11/25/more-smart/" itemprop="url" /> 
	<meta name="url" content="https://umio-yasuno.github.io/posts/2019/11/25/more-smart/" />
	<meta name="twitter:url" content="https://umio-yasuno.github.io/posts/2019/11/25/more-smart/" /> 
	<meta property="og:url" content="https://umio-yasuno.github.io/posts/2019/11/25/more-smart/" />

	<meta name="author" content="Umio Yasuno" />

	<meta name="keywords" content=" Hugo, Theme" />

	<meta name="robots" content="index,follow" />
	<meta name="googlebot" content="index,follow" />

	

	<link rel="preload" href="https://umio-yasuno.github.io/css/lain.min.css" as="style" importance="high">
	<link rel="preload" href="https://umio-yasuno.github.io/css/animation.min.css" as="style" importance="high">

	<link rel="stylesheet" href="https://umio-yasuno.github.io/css/lain.min.css">
	<link rel="stylesheet" href="https://umio-yasuno.github.io/css/animation.min.css">
	</head>
    <body>
<h1><span class="title"><a href="https://umio-yasuno.github.io/" style="color:black">Coelacanth&#39;s Dream</a><span class="blink">_</span></span></h1>
<article class="text">

		<h2><span class="page-title">もっとスマートを </span></h2>
			<p>CSSの最適化を進めた。</p>

<p>以前はテキストすべてに text-shadow を適用していたが、<br />
影の計算というのはコストを増やすもので、このことが原因か、<br />
「初回入力遅延の最大推定時間」が200〜300ms近くのひどいものになっていた。</p>

<p>そこで text-shadow をページタイトルのみに適用することにした。<br />
ブラウン管らしさは減ってしまったが、減り具合に対して使いやすさはぐんと向上してるのだから、<br />
効率はいいため文句なしだ。</p>

<p>そして各要素に transform を追加。<br />
聞いた所によると、これでブラウザ側がその要素をGPUレイヤーとして認識、<br />
処理してくれるとか。</p>

<pre><code>transform: translateZ(0px);
</code></pre>

<p>とかでもGPUでやってくれるのはトリックっぽくて好きだが、（pxはいらないかもしれない）<br />
正直ブラウザ側の最適化とかでやって欲しい気はしなくもない。<br />
使いすぎるとVRAMを喰うともあったから、そうブラウザで勝手にやるわけにもいかないのだろうか。</p>

<p>まあこういった最適化のおかげで初回入力遅延は20ms近くまで削減された。<br />
<img src="https://umio-yasuno.github.io/image/2019/11/25/pagespeed-result.webp" alt="PageSpeed Result" /></p>

<p>地味な所ではCSSのアニメーション部分を分けたり、CSSをpreloadするようにしたり、<br />
サイトタイトルがページ切替時、一瞬青色（リンクに指定した色）になったりするのを直接スタイル指定することで回避したりした。</p>

<p>最適化以外では、Tags と Categories を footer に追加した。<br />
一覧もある程度は整備してある。<br />
ただ Tags は量が多く、表示時に少しもたつくため、分割した方がいいかもしれない。</p>

<p>もうほぼ完成したため、公開してもいいかもしれないが、<br />
やっぱり細かいところがめんどくさい。</p>

<footer>
	<hr>
	
			<a href="https://umio-yasuno.github.io/tags">Tags</a>:
		
			<a href="https://umio-yasuno.github.io/tags/hugo">Hugo</a>
		
	<br>
		<a href="https://umio-yasuno.github.io/categories">Categories</a>: 
		
			<a href="https://umio-yasuno.github.io/categories/diary">Diary</a>
		
	<br>
		<br><a href="https://umio-yasuno.github.io/about/about">About</a>
	
		<a href="https://umio-yasuno.github.io/image/mail.webp" target="_blank">Email</a><br>
	
		Lastmod : Nov 25, 05:07<br>
	
	
		Author : Umio Yasuno
	
		<br><br><br>
</footer>

		</article>
		<span class="lace"></span> 
    </body>
</html>
