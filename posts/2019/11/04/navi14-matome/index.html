<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		

		<title>Navi14 Matome</title>

		
		<link rel="stylesheet" href="https://umio-yasuno.github.io/css/colors-dark.min.217a2547e8e6c808986d22ef70b50263c2d6a4bbc80ed42e97e280a41103f9b5.css">

		
	</head>
	<body>
		<header id="header">
			<h1><a href="https://umio-yasuno.github.io">My New Hugo Site</a></h1>
			<p></p>
		</header>

		<div id="page">
			<div id="sidebar">
				<nav>
	
</nav>

			</div>

			<div id="content">
				
	<article class="post">
		<h1><a href="https://umio-yasuno.github.io/posts/2019/11/04/navi14-matome/">Navi14 Matome</a> </h1>

		<div class="post-content">

<p>今月中に（多分）発売されるであろうRX 5500に使われるチップ、Navi14について、わかってるだけの情報をまとめていく。</p>

<h2 id="性能面">性能面</h2>

<p>2019-10-07にAMDからRX 5500 seriesが発表された。<br />
<a href="https://www.amd.com/en/press-releases/2019-10-07-amd-introduces-radeon-rx-5500-series-graphics-superior-visual-fidelity">https://www.amd.com/en/press-releases/2019-10-07-amd-introduces-radeon-rx-5500-series-graphics-superior-visual-fidelity</a><br />
その際明らかにされたスペックは以下。<br />
(一部簡略化)</p>

<table>
<thead>
<tr>
<th align="center">Model</th>
<th align="center">Compute<br>Units</th>
<th align="center">Stream<br>Processors</th>
<th align="center">TFLOPS</th>
<th align="center">GDDR6<br>(GB)</th>
<th align="center">&mdash;GameClock<br>(MHz)&mdash;</th>
<th align="center">&mdash;BoostClock&mdash;<br>(MHz)</th>
<th align="center">Memory<br>Intreface</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">RX<br>5500M</td>
<td align="center">22</td>
<td align="center">1408</td>
<td align="center">Up to 4.6</td>
<td align="center">4</td>
<td align="center">1448</td>
<td align="center">1645</td>
<td align="center">128-bit</td>
</tr>

<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>

<tr>
<td align="center">RX 5500<br>series</td>
<td align="center">22</td>
<td align="center">1408</td>
<td align="center">Up to 5.4</td>
<td align="center">Up to 8</td>
<td align="center">1717</td>
<td align="center">1845</td>
<td align="center">128-bit</td>
</tr>
</tbody>
</table>

<p>個人的に重要だと思うのは、最終行がRX 5500のスペックではなく、RX 5500 &ldquo;series&rdquo;のスペックだという点だ。<br />
AMDはこれとは別にRX 5500のスペックも公表しており、<br />
<a href="https://www.amd.com/en/products/graphics/amd-radeon-rx-5500#product-specs">https://www.amd.com/en/products/graphics/amd-radeon-rx-5500#product-specs</a><br />
RX 5500 &ldquo;series&rdquo;とは最大メモリ容量とGameClockが違うことがわかる。（RX5500はGDDR6: 4GB、GameClock: 1670MHz）<br />
言い換えれば、RX 5500のそこだけを変えた製品を最低でも１つAMDは予定している。<br />
それが俗に言うRX 5500XTだろう。</p>

<p>ここから推測と感想となる。<br />
まず、無印とXTの差はかなり微妙なものになるはずだ。<br />
BoostClockにどれくらいの頻度で到達するのかは不明だが、そこに差はなく、<br />
GameClockも47MHzの違いしかないため、その程度であればRX 5500のカスタムモデルがあっさり抜きそうな気がする。<br />
メモリ容量もXTだと2倍の容量にはなるが、メモリバス幅は無印と同一なため、4GBより多く使うゲーム等で性能に大きく差をつけるものの、そうでない場合は無印と変わらない感じになるだろう。<br />
可能性として、L2キャッシュ容量を無印では1MB、XTでは2MBとする構成での差別化はありえるかもしれないが、薄いと考えている。<br />
それとメモリに関してだが、無印では8Gbチップを、XTでは16Gbチップを使うと思われる<br />
メモリバス幅 128-bitで8GBにする方法として、8x8Gbチップをそれぞれ16bitで接続するのと、4x16Gbチップをそれぞれ32bitで接続するものがある。<br />
前者は基板をそれ用に設計しなければならない上、単純に枚数が多いためコストと消費電力の面で不利となる。<br />
16bit接続に対応させるのは、16bit接続&amp;16Gbチップにしないといけないようなメモリ容量が必要とされる用途向けの製品だけになると考えている。</p>

<p>それと少し残念な話となるが、Navi14を使った製品でRX 5500XTより上の製品がゲーミング向けに出るかは怪しい。<br />
まずNavi14はチップとして24CU持っているが、RX 5500 seriesではその内22CUを有効化して製品としている。<br />
流れで言えば、5500と5700の間、5600に24CUをフル有効にしたものを製品にしそうだが、現状ゲーミング市場にそれは投入されない可能性が高い。<br />
ゲーミング向けにNavi14を使ったSKUが3つ確認されており、それぞれ<br />
Gaming XT、Gaming XTM、Gaming XTXとなっている。<br />
それと別に、LinuxドライバのAMDGPUの電源管理部分でNavi14のPeakClockに関する記述があり、<br />
<a href="https://cgit.freedesktop.org/~agd5f/linux/tree/drivers/gpu/drm/amd/powerplay/navi10_ppt.h?h=amd-staging-drm-next">navi10_ppt.h</a><br />
XTがRX 5500のGameClockに、XTMがRX 5500Mに、XTXがRX 5500 &ldquo;series&rdquo;のGameClockに一致する。<br />
つまりGaming向けのSKU3つは既に埋まっている。
このことからRX 5600(仮)が出るかは怪しいと考えた。<br />
Navi14のSKUにはWKS Pro-と付いたものが他に存在しており、ファームウェアもきっちり分けられている。<br />
24CU製品が出るとしても、Pro向けやMacBookPro用として出ると思われる。<br />
ただこれから先SKUが追加されるかもしれないため、絶対の話ではない。<br />
それが確認された時はまた記事にするつもりだ。</p>

<h2 id="インターフェース周り">インターフェース周り</h2>

<h3 id="radeonmediaengine">RadeonMediaEngine</h3>

<p>Navi10と同じVCN2.0が搭載されている。<br />
RX 5700/XTは、VP9/HEVC decode 4K90/8K24に対応していると発表されており、Navi14でもそれらは制限されることなく有効だと思われる。</p>

<h3 id="radeondisplayengine">RadeonDisplayEngine</h3>

<p>これもNavi10と同じDCN2.0を搭載しているが、同時出力画面数は5つまでとなっている。</p>

<h3 id="pcie-4-0">PCIe 4.0</h3>

<p>レーン数はNavi10が16レーンだったのに対し、Navi14では8レーンとなっている。<br />
RX 5700/XTの時はPCIe 3.0より2倍の帯域を持つため動画編集にも向いているとアピールできたが、8レーンではPCIe 3.0 16レーンと同等の帯域なためできなくなった。</p>

<h2 id="少しマニアックな話">少しマニアックな話</h2>

<p>Navi14のもう少し詳細な構成を話す。<br />
まず、GCNではCore部分を最大4つのShaderEngineに分け、それぞれに最大16CU、最大4RB(RenderBackend)=16ROPを搭載する形になっていたが、<br />
RDNAでは、GCNでのL1キャッシュとL2キャッシュの間にキャッシュ(128KB)が新たに追加され、GCNでのL1キャッシュはL0キャッシュという名前になった。<br />
そして、RX 5700XTを例に言えば、5WGP(10CU)と4RBをL1キャッシュをまとめた構成を、ShaderArrayと呼ぶこととなった。<br />
RDNAにおいてShaderEngineは、ShaderArrayを2つまとめた単位であり、Navi10は2 ShaderEngine、4 ShaderArrayという構成になっている。<br />
GCNにおいては1 ShaderEngine = 1 ShaderArrayと考えるためそのままだ。<br />
Navi14に戻す。下の画像を見ると中央に12WGP、WGPの塊すぐ上に対称的に配置された青緑のブロック2つと、青のブロック8つがあることがわかる。<br />
そうと確かめた訳ではないが、数からして青緑はL1キャッシュ、青はRBと推測される。<br />
このことから、Navi14は1 ShaderEngine、2 ShaderArray、ShaderArrayあたりのWGPは5か6という構成だと言える。<br />
L2キャッシュはNavi10の4MB(16x256KB)から2MB(8x256KB)となっているように見える。<br />
<img src="/image/2019/11/4/navi14-die.png" alt="navi14-die" />
まとめると</p>

<table>
<thead>
<tr>
<th align="left"></th>
<th align="center">&ndash;Navi10&ndash;</th>
<th align="center">&ndash;Navi14&ndash;</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">ShaderEngine</td>
<td align="center">2</td>
<td align="center">1</td>
</tr>

<tr>
<td align="left">ShaderArray</td>
<td align="center">4</td>
<td align="center">2</td>
</tr>

<tr>
<td align="left">WGP</td>
<td align="center">20</td>
<td align="center">12</td>
</tr>

<tr>
<td align="left">CU</td>
<td align="center">40</td>
<td align="center">24</td>
</tr>

<tr>
<td align="left">SP</td>
<td align="center">2560</td>
<td align="center">1440</td>
</tr>

<tr>
<td align="left">ROP</td>
<td align="center">64</td>
<td align="center">32</td>
</tr>

<tr>
<td align="left">TMU</td>
<td align="center">160</td>
<td align="center">96</td>
</tr>

<tr>
<td align="left">Memory Interface</td>
<td align="center">256-bit</td>
<td align="center">128-bit</td>
</tr>

<tr>
<td align="left">Total L1$ (KB)</td>
<td align="center">512</td>
<td align="center">256</td>
</tr>

<tr>
<td align="left">L2$ (MB)</td>
<td align="center">4</td>
<td align="center">2</td>
</tr>

<tr>
<td align="left">PCIe Max Lane</td>
<td align="center">x16</td>
<td align="center">x8</td>
</tr>

<tr>
<td align="left">Transitors (B)</td>
<td align="center">10.3</td>
<td align="center">6.4</td>
</tr>

<tr>
<td align="left">Lithography</td>
<td align="center">7nm</td>
<td align="center">7nm</td>
</tr>

<tr>
<td align="left">DieSize (mm2)</td>
<td align="center">251</td>
<td align="center">158</td>
</tr>
</tbody>
</table>

<p>と、Navi14はNavi10を概ね半分にしたような構成とわかる。<br />
WGPが半分より少し多いため、ダイサイズもそういった感じとなっている。（12/20=0.6、251*0.6=150.6）<br />
ダイ画像を見ての感想となるが、Navi10はL1キャッシュ周りにRBがもう1つ入りそうな隙間が見て取れたのに対し、Navi14ではギチギチに詰めたと感じられる。</p>

<h3 id="個人的な話">個人的な話</h3>

<p>このようなコンパクトさに技術を注ぎ込んだようなものはロマンがあって好きだ。<br />
販売されたらぜひとも購入したいが、今使ってるRX 560で何の不自由もないことのもあってどうなるかわからない。<br />
価格の問題もある。<br />
対抗のGTX 1650は現在安いモデルだと1万7千円程で買える。<br />
祝儀価格込で2万円代後半で済むことを願っているが、GTX 1650Super次第なところもあるため不安だ。</p>
</div>

		<p class="meta">Posted on <span class="postdate">04. November 2019</span></p>
	</article>

			</div>

			<footer id="footer">
				<p class="copyright">
					
						Powered by <a href="https://gohugo.io/">Hugo</a> and the
						<a href="https://github.com/bake/solar-theme-hugo">Solar</a>-theme.
					
				</p>
			</footer>
		</div>

		
	</body>
</html>
