function toast_msg(){{const e=document.querySelector(`#toast_msg`);if(e)return}const t=document.querySelector(`#msg_tmp`);let e=t.content.cloneNode(!0).querySelector(`#toast_msg`);e.onanimationend=()=>{e.style.opacity=0},e.ontransitionend=()=>{e.remove()},document.body.appendChild(e)}async function copy_url(e={url:!0,title:!1}){const n=document.title,t=location.href;if(navigator.canShare&&!e.title){await navigator.share({url:t});return}const s=(()=>e.title?`${n}\n${t}`:t)();await navigator.clipboard.writeText(s).then(toast_msg())}function err_tag_comple(e){const n=document.querySelector(`#tag-error`),s=n.parentNode;{const t=s.querySelector(`#err-tag-comple`);if(t&&t.dataset.err===e)return;t&&t.remove()}let t=n.content.cloneNode(!0).querySelector(`#err-tag-comple`);const o=(()=>e.length>=25?`${e.substring(0,22)}...`:e)();t.dataset.err=o,t.textContent=o+` `+t.textContent,t.onanimationend=()=>{t.remove()},s.appendChild(t)}function jump_tag(e){if(e.key!=`Enter`&&e.type!=`click`)return;const t=document.querySelector(`#input-tag-comple`),s=t.value,n=s.trim().replace(/\s+/g,`_`).replace(/_+/g,`_`).toLowerCase();if(!n)return;{const e=document.querySelector(`#tags-list > option[value="${n}"]`);if(!e){t.setAttribute("aria-invalid","true"),t.setAttribute("aria-describedby","err-tag-comple"),err_tag_comple(s);return}}location.href=`/tags/${n}/`}function clear_value(e){e.parentNode.querySelector(`#input-tag-comple`).value=``}async function gh_search(e){if(e.key!=`Enter`&&e.type!=`click`)return;const o=document.querySelector(`#gh-search-val`);if(!o.value||!o.validity.valid){t(i(o.validationMessage),0);return}const h=(()=>{const e=o.value.trim().replace(/\s+/g,`+`);return e})(),u=document.querySelector(`#error_msg`),i=e=>{let t=u.content.cloneNode(!0);return t.querySelector(`.msg_txt`).textContent=e,t},r=document.querySelector(`#gh-search`),c=document.querySelector(`#result-list`),t=(e,t)=>{r.dataset.count=(()=>0<t?t:0)(),c.replaceChildren(e)};t("...",0);const l=`repo:umio-yasuno/coelacanth-dream`,d=`https://api.github.com/search/code?q=${h}+${l}`,[s,n]=await Promise.all([fetch(encodeURI(d),{mode:`cors`,credentials:`omit`,keepalive:!0}).then(e=>e.json()).then(e=>e).catch(e=>{t(i(`Failed. [${e}]`))}),fetch(`/index.json`).then(e=>e.json()).then(e=>e)]);if(s.total_count===0){t(i(`No result.`),0);return}const m=document.querySelector(`#gh-debug`);let a=document.createDocumentFragment();for(let t=0;t<s.total_count;t++){if(!s.items[t])continue;const e=s.items[t].path.trim().replace(/^.?content\/?/,`/`).replace(/\.md$/,`/`);if(!n[e])continue;let i=m.content.cloneNode(!0),o=i.querySelector(`article.entry`),r=o.querySelector(`.entry-title-link`);r.href=e,r.textContent=n[e].title,o.querySelector(`.entry-time-update`).textContent+=` ${n[e].pub}`,o.querySelector(`.entry-time-post`).textContent+=` ${n[e].lastmod}`,a.append(i)}t(a,a.childElementCount)}async function random_page(){const e=await fetch(`/index.json`).then(e=>e.json()).then(e=>e),t=(()=>{const t=Object.keys(e);return t[Math.floor(t.length*Math.random())]})();location.href=`${t}`}