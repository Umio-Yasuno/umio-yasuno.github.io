function toast_msg(){{const e=document.querySelector(`#toast_msg`);if(e)return}const t=document.querySelector(`#msg_tmp`);let e=t.content.cloneNode(!0).querySelector(`#toast_msg`);e.onanimationend=()=>{e.style.opacity=0},e.ontransitionend=()=>{e.remove()},document.body.appendChild(e)}async function copy_url(t={url:!0,title:!1}){const n=document.title,e=location.href;if(navigator.canShare&&!t.title){await navigator.share({url:e});return}const s=(()=>t.title?`${n}\n${e}`:e)();await navigator.clipboard.writeText(s).then(toast_msg())}function err_tag_comple(t){const n=document.querySelector(`#tag-error`),s=n.parentNode;{const e=s.querySelector(`#err-tag-comple`);e&&e.remove()}let e=n.content.cloneNode(!0).querySelector(`#err-tag-comple`);const o=(()=>t.length>=25?`${t.substring(0,22)}...`:t)();e.dataset.err=o,e.onanimationend=()=>{e.remove()},s.appendChild(e)}function jump_tag(t){if(t.key!=`Enter`&&t.type!=`click`)return;const n=document.querySelector(`#input-tag-comple`).value,e=n.trim().replace(/\s+/g,`_`).replace(/_+/g,`_`).toLowerCase();if(!e)return;{const t=document.querySelector(`#tags-list > option[value="${e}"]`);if(!t){err_tag_comple(n);return}}location.href=`/tags/${e}/`}function clear_value(e){e.parentNode.querySelector(`#input-tag-comple`).value=``}async function gh_search(a){if(a.key!=`Enter`&&a.type!=`click`)return;const t=document.querySelector(`#gh-search-val`);if(!t.value||!t.validity.valid){e(o(t.validationMessage),0);return}const u=(()=>{const e=t.value.trim().replace(/\s+/g,` `);return encodeURI(e)})(),d=document.querySelector(`#error_msg`),o=t=>{let e=d.content.cloneNode(!0);return e.querySelector(`.msg_txt`).textContent=t,e},m=document.querySelector(`#gh-search`),r=document.querySelector(`#result-list`),e=(t,e)=>{m.dataset.count=(()=>0<e?e:0)(),r.replaceChildren(t)};e("...",0);const c=`repo:umio-yasuno/coelacanth-dream`,l=`https://api.github.com/search/code?q=${u}+${c}`,[s,n]=await Promise.all([fetch(encodeURI(l),{mode:`cors`,credentials:`omit`,keepalive:!0}).then(e=>e.json()).then(e=>e).catch(t=>{e(o(`Failed. [${t}]`))}),fetch(`/index.json`).then(e=>e.json()).then(e=>e)]);if(s.total_count===0){e(o(`No result.`),0);return}const h=document.querySelector(`#gh-debug`);let i=document.createDocumentFragment();for(let t=0;t<s.total_count;t++){if(!s.items[t])continue;const e=s.items[t].path.trim().replace(/^.?content\/?/,`/`).replace(/\.md$/,`/`);if(!n[e])continue;let a=h.content.cloneNode(!0),o=a.querySelector(`article.entry`),r=o.querySelector(`.entry-title-link`);r.href=e,r.textContent=n[e].title,o.querySelector(`.entry-time-update`).textContent+=` ${n[e].pub}`,o.querySelector(`.entry-time-post`).textContent+=` ${n[e].lastmod}`,i.append(a)}e(i,i.childElementCount)}async function random_page(){const e=await fetch(`/index.json`).then(e=>e.json()).then(e=>e),t=(()=>{const t=Object.keys(e);return t[Math.floor(t.length*Math.random())]})();location.href=`${t}`}