function toast_msg(){{const e=document.querySelector(`#toast_msg`);if(e)return}const t=document.querySelector(`#msg_tmp`);let e=t.content.cloneNode(!0).querySelector(`#toast_msg`);e.onanimationend=()=>{e.remove()},document.body.appendChild(e)}async function copy_url(e={url:!0,title:!1}){const n=document.title,t=location.href;if(navigator.canShare&&!e.title){await navigator.share({url:t});return}const s=(()=>e.title?`${n}
${t}`:t)();await navigator.clipboard.writeText(s).then(toast_msg())}function err_tag_comple(e){const n=document.querySelector(`#tag-error`),s=n.parentNode;{const t=s.querySelector(`#err-tag-comple`);if(t&&t.dataset.err===e)return;t&&t.remove()}let t=n.content.cloneNode(!0).querySelector(`#err-tag-comple`);const o=(()=>e.length>=25?`${e.substring(0,22)}...`:e)();t.dataset.err=o,t.textContent=o+` `+t.textContent,t.onanimationend=()=>{t.remove()},s.appendChild(t)}function jump_tag(e){if(e.key!=`Enter`&&e.type!=`click`)return;const t=document.querySelector(`#input-tag-comple`),s=t.value,n=s.trim().replace(/\s+/g,`_`).replace(/_+/g,`_`).toLowerCase();if(!n)return;{const e=document.querySelector(`#tags-list > option[value="${n}"]`);if(!e){t.setAttribute("aria-invalid","true"),t.setAttribute("aria-describedby","err-tag-comple"),err_tag_comple(s);return}}location.href=`/tags/${n}/`}function clear_value(e){e.parentNode.querySelector(`#input-tag-comple`).value=``}async function gh_search(e){if(e.key!=`Enter`&&e.type!=`click`)return;const s=document.querySelector(`#gh-search-val`);if(!s.value||!s.validity.valid){t(o(s.validationMessage),0);return}const d=(()=>{const e=s.value.trim().replace(/\s+/g,`+`);return e})(),r=document.querySelector(`#error_msg`),o=e=>{let t=r.content.cloneNode(!0);return t.querySelector(`.msg_txt`).textContent=e,t},c=document.querySelector(`#gh-search`),l=document.querySelector(`#result-list`),t=(e,t)=>{c.dataset.count=(()=>0<t?t:0)(),l.replaceChildren(e)};t("...",0);const u=`repo:umio-yasuno/coelacanth-dream`,h=`https://api.github.com/search/code?q=${d}+${u}`,[n,i]=await Promise.all([fetch(encodeURI(h),{mode:`cors`,credentials:`omit`,keepalive:!0}).then(e=>e.json()).then(e=>e).catch(e=>{t(o(`Failed. [${e}]`))}),fetch(`/index.json`).then(e=>e.json()).then(e=>e)]);if(n.total_count===0){t(o(`No result.`),0);return}const m=document.querySelector(`#gh-debug`);let a=document.createDocumentFragment();for(let e=0;e<n.total_count;e++){if(!n.items[e])continue;const t=n.items[e].path.trim().replace(/^.?content\/?/,`/`).replace(/\.md$/,`/`);if(!i[t])continue;let s=m.content.cloneNode(!0),o=s.querySelector(`article.entry`),r=o.querySelector(`.entry-title-link`);r.href=t,r.textContent=i[t].title,o.querySelector(`.entry-time-post`).textContent+=` ${i[t].pub}`,a.append(s)}t(a,a.childElementCount)}async function random_page(){const e=await fetch(`/index.json`).then(e=>e.json()).then(e=>e),t=(()=>{const t=Object.keys(e);return t[Math.floor(t.length*Math.random())]})();location.href=`${t}`}