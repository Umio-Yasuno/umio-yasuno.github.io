function toast_msg(){const e=document.getElementById(`msg`);if(e.hasChildNodes())return;e.hidden=!1;const t=document.createElement(`div`);t.className=`toast-msg`,t.onanimationend=()=>{e.style.opacity=0},e.ontransitionend=()=>{e.hidden=!0,e.style.opacity=1,e.innerHTML=''},e.appendChild(t)}async function copy_url(t={url:!0,title:!1}){const n=document.title,e=location.href;if(navigator.canShare&&!t.title){await navigator.share({url:e});return}const s=(()=>t.title?`${n}\n${e}`:e)();await navigator.clipboard.writeText(s).then(toast_msg())}async function copy_code(t){const n=t.nextElementSibling.textContent,e=t.nextElementSibling.nextElementSibling.children[0].children[0],s=(()=>e.text&&e.href?n+` \n\n`+e.text+` \n`+e.href:n+` \n\n`+location.href)();if(!s)return;await navigator.clipboard.writeText(s).then(toast_msg())}function err_tag_comple(t){const e=document.getElementById(`err-tag-comple`),n=(()=>25<=t.length?`${t.substring(0,22)}...`:t)();if(e.dataset.err=`\"${n}\" is not found`,!e.hidden)return;e.hidden=!1,setTimeout(()=>{e.hidden=!0},2e3)}function jump_tag(t){if(t.key!=`Enter`&&t.type!=`click`)return;const n=document.getElementById(`input-tag-comple`).value,e=n.trim().replace(/\s+/g,`_`).replace(/_+/g,`_`).toLowerCase();if(!e)return;const s=document.getElementById(`tags-list`).querySelector(`[value="${e}"]`);if(!s){err_tag_comple(n);return}location.href=`/tags/${e}/`}function clear_value(){document.getElementById(`input-tag-comple`).value=``}async function gh_search(o){if(o.key!=`Enter`&&o.type!=`click`)return;const s=e=>`<div class="sect-page"><code>${e}</code></div>`,n=document.getElementById(`gh-search-val`);if(!n.validity.valid){disp_result(s(n.validationMessage),0);return}const a=(()=>{const e=n.value.trim().replace(/\s+/g,` `);return encodeURI(e)})();disp_result("...",0);const r=`repo:umio-yasuno/coelacanth-dream`,c=`https://api.github.com/search/code?q=${a}+${r}`,[e,t]=await Promise.all([fetch(encodeURI(c),{mode:`cors`,credentials:`omit`,keepalive:!0}).then(e=>e.json()).then(e=>e).catch(e=>{disp_result(s(`Failed. [${e}]`))}),fetch(`/index.json`).then(e=>e.json()).then(e=>e)]);if(e.total_count===0){disp_result(s(`No result.`));return}let i=``;const l=e=>e.replace(/&/g,`&amp;`).replace(/`"`/g,`&quot;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`);for(let s=0;s<e.total_count;s++){if(!e.items[s])continue;const n=e.items[s].path.trim().replace(/^.?content\/?/,`/`).replace(/\.md$/,`/`);if(!t[n])continue;i+=`<div class="sect-page">`+`<h2 class="sect-title"><a class="sect-title-link" href="${n}" target="_blank" rel="norefferer noopener">`+l(t[n].title)+`</a></h2>`+`<div class="sect-time-block">`+`<time datetime="${t[n].pub}" class="time-entry">- ${t[n].pub},`+` Updated: ${t[n].lastmod}</time>`+`</div>`+`</div>`}disp_result(i,e.total_count)}function disp_result(o,n){const t=document.getElementById(`gh-search`),e=document.createElement(`div`);e.id=`result-list`,e.classList.add(`posts`),e.innerHTML=o,t.dataset.count=(()=>0<n?n:0)();const s=document.getElementById(`result-list`);s?s.innerHTML=e.innerHTML:t.parentNode.insertBefore(e,t.nextSibling)}async function random_page(){const e=await fetch(`/index.json`).then(e=>e.json()).then(e=>e),t=(()=>{const t=Object.keys(e);return t[Math.floor(t.length*Math.random())]})();location.href=`${t}`}