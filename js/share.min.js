function toast_msg(){const a=document.getElementById(`msg`);if(a.className===`toast-msg`)return;a.className=`toast-msg`,setTimeout(()=>{a.className=``},1500)}async function copy_url(b){const c=document.title,a=location.href;if(navigator.canShare){b===`title_url`?await navigator.share({title:c,url:a}):await navigator.share({url:a});return}const d=(()=>b===`title_url`?`${c}\n\n${a}`:a)();await navigator.clipboard.writeText(d).then(toast_msg())}function err_tag_comple(b){const a=document.getElementById(`err-tag-comple`),c=(()=>25<=b.length?`${b.substring(0,22)}...`:b)();if(a.dataset.err=`\"${c}\" is not found`,!a.hidden)return;a.hidden=!1,setTimeout(()=>{a.hidden=!0},2e3)}function jump_tag(b){if(b.key!=`Enter`&&b.type!=`click`)return;const c=document.getElementById(`input-tag-comple`).value,a=c.trim().replace(/\s+/g,`_`).replace(/_+/g,`_`).toLowerCase();if(!a)return;const d=document.getElementById(`tags-list`).querySelector(`[value="${a}"]`);if(!d){err_tag_comple(c);return}location.href=`/tags/${a}/`}function clear_value(){document.getElementById(`input-tag-comple`).value=``}async function copy_code(b){const c=b.nextElementSibling.textContent,a=b.nextElementSibling.nextElementSibling.children[0].children[0],d=(()=>a.text&&a.href?c+` \n\n`+a.text+` \n`+a.href:c+` \n\n`+location.href)();if(!d)return;await navigator.clipboard.writeText(d).then(toast_msg())}async function gh_search(d){if(d.key!=`Enter`&&d.type!=`click`)return;const c=a=>`<div class="sect-page"><code>${a}</code></div>`,e=document.getElementById(`gh-search-val`).value.trim().replace(/\s+/g,` `);if(e.length<4){disp_result(c(`The keywords are short. (n < 4)`),0);return}disp_result("...",0);const[a,b]=await Promise.all([fetch(`https://api.github.com/search/code?q=${e}+repo:umio-yasuno/coelacanth-dream`,{mode:`cors`,credentials:`omit`,keepalive:!0}).then(a=>a.json()).then(a=>a).catch(a=>{disp_result(c(`Failed. [${a}]`))}),fetch(`/index.json`).then(a=>a.json()).then(a=>a)]);if(a.total_count==0){disp_result(c(`No result.`));return}let f=``,g=a=>a.replace(/&/g,`&amp;`).replace(/`"`/g,`&quot;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`);for(let d=0;d<a.total_count;d++){if(!a.items[d])continue;const c=a.items[d].path.trim().replace(/^.?content\/?/,`/`).replace(/\.md$/,`/`);if(!b[c])continue;f+=`<div class="sect-page">`+`<h2 class="sect-title"><a class="sect-title-link" href="${c}" target="_blank" rel="norefferer noopener">`+g(b[c].title)+`</a></h2>`+`<div class="sect-time-block">`+`<time datetime="${b[c].pub}" class="time-entry">- ${b[c].pub},`+` Updated: ${b[c].lastmod}</time>`+`</div>`+`</div>`}disp_result(f,a.total_count)}function disp_result(e,c){const b=document.getElementById(`gh-search`),a=document.createElement(`div`);a.id=`result-list`,a.classList.add(`posts`),a.innerHTML=e,b.dataset.count=(()=>0<c?c:0)();const d=document.getElementById(`result-list`);d?d.innerHTML=a.innerHTML:b.parentNode.insertBefore(a,b.nextSibling)}