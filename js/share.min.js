function toast_msg(){const a=document.getElementById(`msg`);if(a.className===`toast-msg`)return;a.className=`toast-msg`,setTimeout(()=>{a.className=``},1500)}async function copy_url(b){const c=document.title,a=location.href;if(b===`url`&&navigator.share){navigator.share({title:c,url:a});return}const d=(()=>b===`title_url`?`${c}\n\n${a}`:a)();await navigator.clipboard.writeText(d).then(toast_msg())}function err_tag_comple(b){const a=document.getElementById(`tag-comple-error`);if(a.className===`toast-err`)return;const c=(()=>25<=b.length?`${b.substring(0,22)}...`:b)();a.innerHTML=`"${c}" not found`,a.className=`toast-err`,setTimeout(()=>{a.className=``},2e3)}function jump_tag(b){if(b.key!=`Enter`&&b.type!=`click`)return;const a=document.getElementById(`input-tag-comple`).value.trim().replace(/\s+/,` `).toLowerCase();if(a==``)return;const c=document.getElementById(`tags-list`).querySelector(`[value="${a}"]`);if(!c){err_tag_comple(a);return}location.href=`/tags/${c.dataset.url}/`}function clear_value(){document.getElementById(`input-tag-comple`).value=``}async function copy_code(b){const c=b.nextElementSibling.textContent,a=b.nextElementSibling.nextElementSibling.children[0].children[0],d=(()=>a.text&&a.href?c+` \n\n`+a.text+` \n`+a.href:c+` \n\n`+location.href)();if(!d)return;await navigator.clipboard.writeText(d).then(toast_msg())}function add_copy_code_btn(){const a=document.getElementsByTagName(`pre`);for(let b=0;b<a.length;b++){if(a[b].previousSibling.className==`copy-code sb`)return;const c=document.createElement(`button`);c.classList.add(`copy-code`,`sb`),c.setAttribute(`onclick`,`copy_code(this)`),c.innerText=`Copy`,a[b].parentNode.insertBefore(c,a[b])}}window.onload=add_copy_code_btn();async function gh_search(d){if(d.key!=`Enter`&&d.type!=`click`)return;const c=a=>`<div class="sect-page"><code>${a}</code></div>`,e=document.getElementById(`gh-search-val`).value.trim().replace(/\s+/g,` `);if(e.length<4){disp_result(c(`The keywords are short. (n < 4)`));return}const b=await fetch(`https://api.github.com/search/code?q=${e}+repo:umio-yasuno/coelacanth-dream`,{mode:`cors`,credentials:`omit`}).then(a=>a.json()).then(a=>a).catch(a=>{disp_result(c(`Failed. [${a}]`))}),a=await fetch(`/index.json`).then(a=>a.json()).then(a=>a);if(b.total_count==0){disp_result(c(`No result.`));return}let f=``,g=a=>a.replace(/&/g,`&amp;`).replace(/`"`/g,`&quot;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`);for(let d=0;d<b.total_count;d++){if(!b.items[d])continue;const c=b.items[d].path.trim().replace(/^.?content\/?/,`/`).replace(/\.md$/,`/`);if(!a[c])continue;f+=`<div class="sect-page">`+`<a class="sect-title" href="${c}" target="_blank" rel="norefferer noopener">`+g(a[c].title)+`</a>`+`<div class="sect-time-block">`+`<time datetime="${a[c].pub}" class="time-entry">- ${a[c].pub},`+` Update: ${a[c].lastmod}</time>`+`</div>`+`</div>`}disp_result(f)}function disp_result(d){const b=document.getElementById(`gh-search`),a=document.createElement(`div`);a.id=`result-list`,a.classList.add(`posts`),a.innerHTML=d;const c=document.getElementById(`result-list`);c?c.innerHTML=a.innerHTML:b.parentNode.insertBefore(a,b.nextSibling)}