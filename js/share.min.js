function toast_msg(){const e=document.getElementById(`msg`);if(e.className===`toast-msg`)return;e.className=`toast-msg`,setTimeout(()=>{e.className=``},1500)}async function copy_url(t){const n=document.title,e=location.href;if(navigator.canShare){t===`title_url`?await navigator.share({title:n,url:e}):await navigator.share({url:e});return}const s=(()=>t===`title_url`?`${n}\n\n${e}`:e)();await navigator.clipboard.writeText(s).then(toast_msg())}function err_tag_comple(t){const e=document.getElementById(`err-tag-comple`),n=(()=>25<=t.length?`${t.substring(0,22)}...`:t)();if(e.dataset.err=`\"${n}\" is not found`,!e.hidden)return;e.hidden=!1,setTimeout(()=>{e.hidden=!0},2e3)}function jump_tag(t){if(t.key!=`Enter`&&t.type!=`click`)return;const n=document.getElementById(`input-tag-comple`).value,e=n.trim().replace(/\s+/g,`_`).replace(/_+/g,`_`).toLowerCase();if(!e)return;const s=document.getElementById(`tags-list`).querySelector(`[value="${e}"]`);if(!s){err_tag_comple(n);return}location.href=`/tags/${e}/`}function clear_value(){document.getElementById(`input-tag-comple`).value=``}async function copy_code(t){const n=t.nextElementSibling.textContent,e=t.nextElementSibling.nextElementSibling.children[0].children[0],s=(()=>e.text&&e.href?n+` \n\n`+e.text+` \n`+e.href:n+` \n\n`+location.href)();if(!s)return;await navigator.clipboard.writeText(s).then(toast_msg())}async function gh_search(s){if(s.key!=`Enter`&&s.type!=`click`)return;const n=e=>`<div class="sect-page"><code>${e}</code></div>`,o=document.getElementById(`gh-search-val`).value.trim().replace(/\s+/g,` `);if(o.length<4){disp_result(n(`The keywords are short. (n < 4)`),0);return}disp_result("...",0);const[e,t]=await Promise.all([fetch(`https://api.github.com/search/code?q=${o}+repo:umio-yasuno/coelacanth-dream`,{mode:`cors`,credentials:`omit`,keepalive:!0}).then(e=>e.json()).then(e=>e).catch(e=>{disp_result(n(`Failed. [${e}]`))}),fetch(`/index.json`).then(e=>e.json()).then(e=>e)]);if(e.total_count==0){disp_result(n(`No result.`));return}let i=``,a=e=>e.replace(/&/g,`&amp;`).replace(/`"`/g,`&quot;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`);for(let s=0;s<e.total_count;s++){if(!e.items[s])continue;const n=e.items[s].path.trim().replace(/^.?content\/?/,`/`).replace(/\.md$/,`/`);if(!t[n])continue;i+=`<div class="sect-page">`+`<h2 class="sect-title"><a class="sect-title-link" href="${n}" target="_blank" rel="norefferer noopener">`+a(t[n].title)+`</a></h2>`+`<div class="sect-time-block">`+`<time datetime="${t[n].pub}" class="time-entry">- ${t[n].pub},`+` Updated: ${t[n].lastmod}</time>`+`</div>`+`</div>`}disp_result(i,e.total_count)}function disp_result(o,n){const t=document.getElementById(`gh-search`),e=document.createElement(`div`);e.id=`result-list`,e.classList.add(`posts`),e.innerHTML=o,t.dataset.count=(()=>0<n?n:0)();const s=document.getElementById(`result-list`);s?s.innerHTML=e.innerHTML:t.parentNode.insertBefore(e,t.nextSibling)}